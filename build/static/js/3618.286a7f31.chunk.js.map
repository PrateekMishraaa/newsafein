{"version":3,"file":"static/js/3618.286a7f31.chunk.js","mappings":"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","sources":["pages/Admin/pages/websitecontent/Blogs.jsx"],"sourcesContent":["import { apiAuth, apiJson } from \"api\";\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useGlobalContext } from \"global/context\";\r\nimport axios from \"axios\";\r\n\r\nconst Blogs = () => {\r\n  const { adminRoles } = useGlobalContext();\r\n  let [blogData, setBlogData] = useState(\"\");\r\n  let [update, setUpdate] = useState(0);\r\n  const getAllBlogs = async () => {\r\n    try {\r\n      const res = await axios.get(\"https://www.api.safeinschool.in/admin/blogs\"); // testing case \r\n      // const res = await apiJson.get(\"admin/blogs\");\r\n      if (res.status == 200) {\r\n        // console.log(\"All blogs Data: \", res.data.result);\r\n        setBlogData(res?.data?.result);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"All Quotes Error: \", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    // console.log(blogData);\r\n    getAllBlogs();\r\n  }, [update]);\r\n\r\n  const handleDelete = async (id) => {\r\n    console.log(id);\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You wanted to delete this student!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then(async (result) => {\r\n      console.log(result);\r\n      if (result.isConfirmed) {\r\n        console.log(result);\r\n        try {\r\n          const res = await apiAuth.delete(\"admin/blogs?id=\" + id);\r\n          if (res.status == 200) {\r\n            Swal.fire({\r\n              title: res.data.message,\r\n              icon: \"success\",\r\n            });\r\n            setUpdate(update + 1);\r\n          }\r\n        } catch (error) {\r\n          Swal.fire({\r\n            width: 400,\r\n            title: error?.response?.data?.message ? error?.response?.data?.message : \"Something Went Wrong Check  your Network Connection\",\r\n            icon: \"error\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex align-items-center justify-content-between mb-2\">\r\n        <h4>Manage Blogs</h4>\r\n        <div hidden={!(adminRoles() === 1)}>\r\n          <NavLink to={\"/admin/blogs/add\"} className=\"btn rounded-3\">\r\n            Add Blogs\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"table-responsive border rounded-3\">\r\n          <table class=\"table table-striped table-hover\">\r\n            <thead className=\"table-dark\">\r\n              <tr>\r\n                <th scope=\"col\">img</th>\r\n                <th scope=\"col\">title</th>\r\n                <th scope=\"col\">slug</th>\r\n                <th scope=\"col\">created_at</th>\r\n                <th hidden={adminRoles() === 5} scope=\"col\">\r\n                  actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {blogData[0] &&\r\n                blogData?.map((value, index) => {\r\n                  // console.log(value);\r\n                  return (\r\n                    <>\r\n                      <tr>\r\n                        <td scope=\"col\">\r\n                          <img src={value?.img} alt=\"\" width={80} height={80} />\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          <span className=\"line-clamp-blog\">{value?.title}</span>\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          <span className=\"line-clamp-blog\">{value?.slug}</span>\r\n                        </td>\r\n                        <td scope=\"col\">{moment(value?.createdAt).calendar()}</td>\r\n                        <td hidden={adminRoles() === 5}>\r\n                          <div className=\"d-flex h-100\">\r\n                            <NavLink to={`edit/${value.id}`}>\r\n                              <button className=\"btn rounded-3 btn-sm btn-outline-dark d-flex me-2\" sx={{ backgroundColor: \"orange\" }}>\r\n                                <i className=\"bi bi-trash\"></i>&nbsp;Edit\r\n                              </button>\r\n                            </NavLink>\r\n                            <button\r\n                              hidden={adminRoles() === 3}\r\n                              type=\"button\"\r\n                              className=\"btn rounded-3 btn-sm btn-outline-danger rounded d-flex\"\r\n                              onClick={() => {\r\n                                handleDelete(value?.id);\r\n                              }}>\r\n                              <i className=\"bi bi-trash\"></i>&nbsp;delete\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    </>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Blogs;"],"names":["Blogs","adminRoles","useGlobalContext","blogData","setBlogData","useState","update","setUpdate","useEffect","async","res","axios","get","_res$data","status","data","result","error","console","log","getAllBlogs","_jsxs","children","className","_jsx","hidden","NavLink","to","class","scope","map","value","index","_Fragment","src","img","alt","width","height","title","slug","moment","createdAt","calendar","concat","id","sx","backgroundColor","type","onClick","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","isConfirmed","apiAuth","delete","message","_error$response","_error$response$data","_error$response2","_error$response2$data","response","handleDelete"],"sourceRoot":""}