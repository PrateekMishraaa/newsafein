(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[4304],{8594:(e,l,t)=>{"use strict";t.d(l,{A:()=>A});var s=t(89379),a=t(91794),i=t(17296),d=t(29289),n=t(65550),o=t(29931),r=t(42518),c=t(67784),h=t(18483),m=t(45543),u=t(65324),x=t(65043),v=t(11238),j=t(47503),p=t(95540),b=t(30064),g=t.n(b),f=t(86178),N=t.n(f),y=t(57313),S=t(70579);const A=function(e){let{data:l,setFileData:t,setFile:b,upload:f}=e;const[A,C]=(0,x.useState)(l),[w,_]=(0,x.useState)(),[k,F]=(0,x.useState)([]),[D,I]=(0,x.useState)(!1),[E,B]=(0,x.useState)({First_name:"",Last_name:"",Email:"",Contact:"",DOB:""});function R(e){return null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e.Email)?{message:"Emails Already Exists"}:function(e,l){var t=-1;return null===l||void 0===l||l.map(l=>{let{Email:s}=l;e===s&&(t+=1)}),t}(null===e||void 0===e?void 0:e.Email,A)?{message:"Duplicate Email"}:function(e,l){var t=-1;return null===l||void 0===l||l.map(l=>{let{Contact:s}=l;e===s&&(t+=1)}),t}(null===e||void 0===e?void 0:e.Contact,A)?{message:"Duplicate Contact"}:null!==e&&void 0!==e&&e.First_name&&null!==e&&void 0!==e&&e.Contact&&null!==e&&void 0!==e&&e.Email?(10!=String(null===e||void 0===e?void 0:e.Contact).length||!Number(null===e||void 0===e?void 0:e.Contact))&&{message:"Incorrect Contact"}:{message:"Data Missing"}}return(0,x.useEffect)(()=>{u.g.loading();const e=[];null===A||void 0===A||A.map(l=>{let{Email:t}=l;e.push(t)}),m.hr.post("institute/allEmails",e).then(e=>{let{data:l}=e;F(null===l||void 0===l?void 0:l.emails)}).catch(e=>{console.log(e),u.g.error("Something Went Wrong!!")}),function(e){try{const t=v.Wp.json_to_sheet(e),s=v.Wp.book_new();v.Wp.book_append_sheet(s,t,"sheet1");var l=new Blob([new Uint8Array(v.M9(s,{bookType:"xlsx",type:"array"}))],{type:"application/octet-stream"});const a=new File([l],"demo.xlsx",{type:"xlsx"});b(a)}catch(t){console.log("Error:",t)}}(A)},[A,w]),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"mb-2",children:[(0,S.jsx)(r.A,{className:"me-2 p-2 px-3",variant:"outlined",color:"error",size:"small",onClick:()=>{t(),b()},startIcon:(0,S.jsx)(a.A,{}),children:"Cancel"}),(0,S.jsx)(r.A,{className:"p-2 px-3",variant:"contained",color:"success",size:"small",onClick:()=>{!function(){var e=!0;A.length?(null===A||void 0===A||A.map(l=>{R(l)&&(e=!1)}),e?f():j.oR.warning("Error In Data")):j.oR.error("No Data Found!")}()},startIcon:(0,S.jsx)(o.A,{}),children:"Upload"})]}),(0,S.jsxs)("table",{className:"table position-relative pb-0 mb-0",style:{fontSize:"15px"},children:[(0,S.jsx)("thead",{className:"bg-light-white2-grad",children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{scope:"col",children:"#"}),(0,S.jsx)("th",{scope:"col",children:"First\xa0Name"}),(0,S.jsx)("th",{scope:"col",children:"Last\xa0Name"}),(0,S.jsx)("th",{scope:"col",children:"Email"}),(0,S.jsx)("th",{scope:"col",children:"Contact"}),(0,S.jsx)("th",{scope:"col",children:"DOB"}),(0,S.jsx)("th",{scope:"col",children:"Error(If\xa0Any) "}),(0,S.jsx)("th",{scope:"col",children:"Edit"})]})}),(0,S.jsx)("tbody",{children:null===A||void 0===A?void 0:A.map((e,l)=>{var t,a;return console.log(e,"item===>"),(0,S.jsxs)("tr",{title:null===(t=R(e))||void 0===t?void 0:t.message,className:R(e)?"table-danger":"",onDoubleClick:()=>{I(l),B(e)},children:[(0,S.jsx)("th",{scope:"row",children:l+1}),D===l?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("td",{children:(0,S.jsx)(c.A,{defaultValue:null===E||void 0===E?void 0:E.First_name,onChange:e=>{B(l=>(0,s.A)((0,s.A)({},l),{},{First_name:e.target.value}))},size:"small"})}),(0,S.jsx)("td",{children:(0,S.jsx)(c.A,{defaultValue:null===E||void 0===E?void 0:E.Last_name,onChange:e=>{B(l=>(0,s.A)((0,s.A)({},l),{},{Last_name:e.target.value}))},size:"small"})}),(0,S.jsx)("td",{children:(0,S.jsx)(c.A,{type:"email",defaultValue:E.Email,onChange:e=>{B(l=>(0,s.A)((0,s.A)({},l),{},{Email:e.target.value}))},size:"small"})}),(0,S.jsx)("td",{children:(0,S.jsx)(c.A,{defaultValue:E.Contact,onChange:e=>{B(l=>(0,s.A)((0,s.A)({},l),{},{Contact:e.target.value}))},size:"small"})}),(0,S.jsx)("td",{children:(0,S.jsx)(c.A,{defaultValue:N()(E.DOB,"DD-MM-YYYY").format("DD-MM-YYYY"),onChange:e=>{B(l=>(0,s.A)((0,s.A)({},l),{},{DOB:e.target.value}))},size:"small"})}),(0,S.jsx)("td",{children:(0,S.jsx)("small",{children:(0,S.jsx)(h.A,{title:"Update",children:(0,S.jsx)(d.A,{sx:{color:"blue"},onClick:()=>{let e=A;e[l]=E,C(e),I(!1),I(),_(!w)}})})})}),(0,S.jsx)("td",{children:(0,S.jsx)("small",{children:(0,S.jsx)(h.A,{title:"Back",children:(0,S.jsx)(n.A,{sx:{color:"black"},onClick:()=>{I(!1)}})})})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("td",{children:null===e||void 0===e?void 0:e.First_name}),(0,S.jsx)("td",{children:null===e||void 0===e?void 0:e.Last_name}),(0,S.jsx)("td",{children:null===e||void 0===e?void 0:e.Email}),(0,S.jsx)("td",{children:null===e||void 0===e?void 0:e.Contact}),(0,S.jsx)("td",{children:N()(null===e||void 0===e?void 0:e.DOB,"DD-MM-YYYY").format("DD-MM-YYYY")}),(0,S.jsx)("td",{children:null===(a=R(e))||void 0===a?void 0:a.message}),(0,S.jsxs)("td",{className:"p-0",children:[(0,S.jsx)(h.A,{title:"Edit",children:(0,S.jsxs)(y.Ay,{className:"m-2 text-success bg-success bg-opacity-25",onClick:()=>{I(l),B(e)},children:[" ",(0,S.jsx)(p.A,{})," "]})}),(0,S.jsx)(h.A,{title:"Delete",children:(0,S.jsxs)(y.Ay,{className:"text-danger bg-danger bg-opacity-25",onClick:()=>{!function(e){g().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(l=>{let{isConfirmed:t}=l;if(t){let l=A;delete l[e],C(l),_(!w),j.oR.success("Deleted Successfully.")}})}(l)},children:[" ",(0,S.jsx)(i.A,{})]})})]})]})]},l+1)})})]})]})}},37538:()=>{},44304:(e,l,t)=>{"use strict";t.d(l,{AdminInstituteGallery:()=>te,AdminInstituteStudents:()=>D,CertificateData:()=>G,ComplianceTable:()=>x,InstituteDetail:()=>v});t(37538);var s=t(65043),a=t(83560),i=t(51387),d=t(18483),n=t(17392),o=t(86178),r=t.n(o),c=t(45543),h=t(47503),m=t(35475),u=t(70579);const x=e=>{let{reload:l}=e;const[t,o]=(0,s.useState)([]),x=()=>{(0,c.hr)("/admin/compliance").then(e=>{o(e.data.result)})};return(0,s.useEffect)(()=>{x()},[l]),(0,u.jsx)("div",{className:"py-3",children:(0,u.jsx)("div",{className:"table-responsive border rounded-3",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"#ID"}),(0,u.jsx)("th",{colSpan:2,children:"Compliance Name"}),(0,u.jsx)("th",{children:"Created"}),(0,u.jsx)("th",{children:"Action"})]})}),(0,u.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map(e=>(0,u.jsxs)("tr",{style:{cursor:"pointer"},children:[(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),(0,u.jsx)("td",{colSpan:2,children:null===e||void 0===e?void 0:e.title}),(0,u.jsx)("td",{children:r()(null===e||void 0===e?void 0:e.createdAt).calendar()}),(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)(d.A,{title:"Edit Template",placement:"top",children:(0,u.jsx)(m.N_,{to:"/admin/compliance/category/"+(null===e||void 0===e?void 0:e.id),children:(0,u.jsx)(n.A,{color:"warning",children:(0,u.jsx)(a.A,{})})})}),(0,u.jsx)(d.A,{title:"Delete Template",placement:"top",children:(0,u.jsx)(n.A,{size:"small",color:"error",onClick:()=>{return l=e.id,void c.hr.delete("/admin/compliance/"+l).then(e=>{h.oR.dismiss(),h.oR.success("Deleted Successfully"),x()});var l},children:(0,u.jsx)(i.A,{})})})]})})]},e.id))})]})})})},v=e=>{let{datas:l,dataStudent:t,dataDelegates:s,certificatesByInstitutes:a}=e;return(0,u.jsxs)("div",{children:[" ",(0,u.jsxs)("div",{className:"charts row row-cols-1 row-cols-md-2 row-cols-lg-3 g-2 mb-3",children:[(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(K,{Student:null===t||void 0===t?void 0:t.length,allStudents:null===l||void 0===l?void 0:l.question1,StudentName:"Students",allStudentsName:"All Students"})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(K,{Student:(null===t||void 0===t?void 0:t.length)-(null===s||void 0===s?void 0:s.length),allStudents:null===s||void 0===s?void 0:s.length,StudentName:"Students",allStudentsName:"Delegates "})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(K,{Student:(null===t||void 0===t?void 0:t.length)-(null===a||void 0===a?void 0:a.length),allStudents:null===a||void 0===a?void 0:a.length,StudentName:"Students",allStudentsName:"Certificates"})})]}),(0,u.jsx)("div",{className:"table-responsive institute-data rounded-3 border",children:(0,u.jsx)("table",{className:"table table-borderless table-striped table-lg",children:(0,u.jsx)("tbody",{children:Object.keys(l).map((e,t)=>{if(/title|first_name|last_name|institution_name|institution_address|ytb|lkd|twitter|ig|state|pincode|email|contact/.test(e))return(0,u.jsxs)("tr",{className:"".concat(l[e]?"":"d-none"),children:[(0,u.jsx)("td",{scope:"row",className:" fs-6 text-capitalize",children:null===e||void 0===e?void 0:e.replace("_"," ")}),(0,u.jsx)("td",{children:(0,u.jsxs)("span",{className:"fs-6 line-clamp-blog",children:[" ",l[e]]})})]},t)})})})})]})};var j=t(89379),p=t(20648),b=t(85595),g=t(65324),f=t(72557),N=t(57313),y=t(30064),S=t.n(y);function A(e){let{id:l}=e,[t,a]=(0,s.useState)(),[d,n]=(0,s.useState)([]),[o,r]=(0,s.useState)(!1),[m,x]=(0,s.useState)();const[v,y]=(0,s.useState)([]),[A,C]=(0,s.useState)([]);let[w,_]=(0,s.useState)(0);const[k,F]=(0,s.useState)({add:!1,edit:!1}),D=e=>{F("add"==e?(0,j.A)((0,j.A)({},k),{},{add:!k.add}):(0,j.A)((0,j.A)({},k),{},{edit:!k.edit}))};let[I,E]=(0,s.useState)(),{adminRoles:B}=(0,b.SF)();const R=async()=>{try{const s=await c.hr.get("admin/certificate/".concat(l));var e,t;if(200==s.status)n(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.result),a(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.result[0])}catch(s){console.log(s)}},z=(0,p.Wx)({initialValues:{cert_img:"",state:"",courseId:""},onSubmit:async(e,t)=>{try{h.oR.loading();const t=await c.DX.post("admin/certificate/".concat(l),e);200!=t.status&&1!=(null===t||void 0===t?void 0:t.success)||((0,g.z)("success",t.data.message,void 0,1500),R(),D("add"))}catch(i){var s,a;(0,g.z)("error",null===i||void 0===i||null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message),D("add")}}}),T=(0,p.Wx)({initialValues:{certificate_url:m,state:I},enableReinitialize:!0,onSubmit:async(e,t)=>{(0,g.z)("loading");try{const t=await c.DX.put("admin/certificate/".concat(l),e);200!=t.status&&1!=(null===t||void 0===t?void 0:t.success)||((0,g.z)("success",t.data.message,void 0,1500),R(),r(!1))}catch(i){var s,a;(0,g.z)("error",null===i||void 0===i||null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)}}});return(0,s.useEffect)(()=>{R(),(async()=>{const e=await c.DX.get("/v2/public/state");var l;200===e.status&&y(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.states);const t=await c.hr.get("/course");200===(null===t||void 0===t?void 0:t.status)&&C(null===t||void 0===t?void 0:t.data.courses)})()},[o]),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"certificate",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,u.jsx)("h4",{children:"Certificate Table"}),(0,u.jsx)("button",{className:"btn",onClick:()=>D("add"),children:"Add Certificate"})]}),(0,u.jsx)("div",{className:"table-responsive border rounded-3",children:(0,u.jsxs)("table",{class:"table table-striped ",children:[(0,u.jsxs)("thead",{children:[(0,u.jsx)("th",{children:"certificate Image"}),(0,u.jsx)("th",{children:"State"}),(0,u.jsx)("th",{children:"Course"}),(0,u.jsx)("th",{children:"InstituteId"}),(0,u.jsx)("th",{children:"Created at"}),(0,u.jsx)("th",{children:"Updated at"}),(0,u.jsx)("th",{children:"Actions"})]}),(0,u.jsx)("tbody",{children:null===d||void 0===d?void 0:d.map((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)("img",{src:null===e||void 0===e?void 0:e.certificate_url,alt:"",width:150,height:80,className:"border bg-white",style:{objectFit:"contain"}})}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.state}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.courseId}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.instituteId}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.updatedAt}),(0,u.jsx)("td",{children:(0,u.jsx)(N.Ay,{className:"ms-2",onClick:()=>(async()=>{S().fire({title:"Are you sure?",text:"You wanted to delete this certificate?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(async e=>{if(e.isConfirmed)try{await c.DX.delete("admin/certificate/".concat(l))&&(h.oR.dismiss(),h.oR.success("Deleted Successfully"),R())}catch(t){console.log(t,"Certificate Delete====>")}})})(),children:(0,u.jsx)(i.A,{})})})]}))})]})})]}),(0,u.jsxs)(f.A,{show:k.add,onHide:()=>D("add"),children:[(0,u.jsx)(f.A.Header,{closeButton:!0,children:(0,u.jsx)(f.A.Title,{children:"Add Certificate Template"})}),(0,u.jsx)(f.A.Body,{children:(0,u.jsxs)("form",{onSubmit:z.handleSubmit,children:[(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{htmlFor:"certificate",className:"form-label text-dark",children:"Certificate Image"}),(0,u.jsx)("input",{type:"file",name:"cert_img",className:"form-control",id:"cert_img",onChange:e=>{e.target.files.length&&z.setFieldValue("cert_img",e.target.files[0])}})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{htmlFor:"State",className:"form-label text-dark",children:"State"}),(0,u.jsxs)("select",{type:"text",name:"state",className:"form-select",id:"state",value:z.values.state,onChange:z.handleChange,children:[(0,u.jsx)("option",{value:"",children:"Select State"}),v.map((e,l)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.State,children:null===e||void 0===e?void 0:e.State},l))]})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{htmlFor:"courseId",className:"form-label text-dark",children:"Course"}),(0,u.jsxs)("select",{type:"text",name:"courseId",className:"form-select",id:"courseId",value:z.values.courseId,onChange:z.handleChange,children:[(0,u.jsx)("option",{value:"",children:"Select Course"}),A.map((e,l)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.course_name},l))]})]}),(0,u.jsx)("button",{type:"button",className:"btn me-2",onClick:()=>D("add"),children:"Close"}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]}),(0,u.jsxs)(f.A,{show:k.edit,onHide:()=>D("edit"),children:[(0,u.jsx)(f.A.Header,{closeButton:!0,children:(0,u.jsx)(f.A.Title,{children:"Edit Certificate Template"})}),(0,u.jsx)(f.A.Body,{children:(0,u.jsxs)("form",{onSubmit:T.handleSubmit,children:[(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"certificate",className:"form-label",children:"Certificate"}),(0,u.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"certificate_url",className:"form-control",id:"certificate",onChange:e=>{e.target.files.length&&T.setFieldValue("certificate_url",e.target.files[0])}})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{htmlFor:"State",className:"form-label text-dark",children:"State"}),(0,u.jsxs)("select",{type:"text",name:"state",className:"form-select",id:"state",value:T.values.state,onChange:T.handleChange,children:[(0,u.jsx)("option",{value:"",children:"Select State"}),v.map((e,l)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.State,children:null===e||void 0===e?void 0:e.State},l))]})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{htmlFor:"courseId",className:"form-label text-dark",children:"Course"}),(0,u.jsxs)("select",{type:"text",name:"courseId",className:"form-select",id:"courseId",value:T.values.courseId,onChange:T.handleChange,children:[(0,u.jsx)("option",{value:"",children:"Select Course"}),A.map((e,l)=>(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.course_name},l))]})]}),(0,u.jsx)("button",{type:"button",className:"btn me-2",onClick:()=>D(),children:"Close"}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})]})})}var C=t(42518),w=t(51851),_=t(71080),k=t(73216),F=t(63514);const D=()=>{let[e,l]=(0,s.useState)("");const[t,a]=(0,s.useState)("student");let[i,d]=(0,s.useState)(10),[n,o]=(0,s.useState)([]),[h,m]=(0,s.useState)(0),[x,v]=(0,s.useState)(""),{adminRoles:j}=(0,b.SF)(),[p,g]=(0,s.useState)([]);const{ErrorResponder:f}=(0,_.A)();let N=(0,k.g)().id;const y=async()=>{try{const e=await c.hr.get("/institute/data?type=students&instituteId=".concat(N,"&search=").concat(x,"&role=").concat(t),{});200===e.status&&g(e.data.result)}catch(e){f(e)}};return(0,s.useEffect)(()=>{y()},[t]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2 mb-2",children:[(0,u.jsx)("div",{className:"col",children:(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("input",{onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y()},className:"form-control",value:x,label:"Search Student Name Here...."}),(0,u.jsx)("div",{className:"d-flex"}),x.length?(0,u.jsxs)("button",{className:"btn btn-outline-danger ",onClick:()=>{v(""),y()},children:[(0,u.jsx)("i",{className:"bi bi-trash"})," clear"]}):"",(0,u.jsxs)("button",{className:"btn btn-success border-success",sx:{background:"orange",color:"white"},onClick:()=>{y()},children:[(0,u.jsx)("i",{className:"bi bi-search"})," Search"]})]})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsxs)("select",{value:t,onChange:e=>a(e.target.value),className:"form-select d-inline-block me-2",children:[(0,u.jsx)("option",{children:"student"}),(0,u.jsx)("option",{children:"teacher"}),(0,u.jsx)("option",{children:"coordinator"})]}),(0,u.jsx)(V,{hidden:!(1===j()),collegeId:N,update:h,setUpdate:m}),(0,u.jsx)(ee,{instituteId:null===e||void 0===e?void 0:e.instituteId})]})})]}),(0,u.jsxs)("div",{className:"student-data table-responsive rounded-3 border",children:[(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:"table-light",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Profile"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Student\xa0Name"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Guardian\xa0name"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Address"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Email"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Contact"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Resume"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Status"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"DOB"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Gender"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Facebook"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Twitter"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Instagram"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"LinkedIn"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Youtube"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Created\xa0At"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Updated\xa0At"})]})}),(0,u.jsx)("tbody",{children:(p.length?p:n).map((e,l)=>{if(l<i)return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(F.A,{src:null===e||void 0===e?void 0:e.profile,alt:null===e||void 0===e?void 0:e.first_name})}),(0,u.jsxs)("td",{children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.father_name}),(0,u.jsxs)("td",{children:[null===e||void 0===e?void 0:e.district," ",null===e||void 0===e?void 0:e.state," ",null===e||void 0===e?void 0:e.pincode]}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.contact}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.resume}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,u.jsx)("td",{children:r()(null===e||void 0===e?void 0:e.dob).calendar()}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.gender}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.fb}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.twitter}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.insta}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.lkd}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.ytb}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.created_At}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.updated_At})]})})})]}),(0,u.jsxs)("div",{className:"d-flex align-items-center p-2 mt-3",children:[(0,u.jsxs)("span",{className:"text-dark me-2",children:["Showing ",i<n.length?i:n.length," of ",n.length]}),(0,u.jsxs)(C.A,{variant:"outlined",color:"success",className:"me-2",onClick:()=>{d(i+5)},children:["Load More ",(0,u.jsx)(w.A,{className:"fs-6"})]}),(0,u.jsx)(C.A,{className:"me-2",variant:"outlined",color:"error",onClick:()=>{d(10)},children:"Reset"})]})]})]})};var I=t(73033),E=t(67784),B=t(14256),R=t(57972),z=t(59182),T=t(53193),Y=t(51292),L=t(53062),M=t(81e3),W=t(85865),O=t(24914),q=t(98606);const P={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function V(e){let{collegeId:l,update:t,setUpdate:a}=e;const[i,d]=s.useState(!1),n=(0,s.useRef)(),o=(0,_.A)(),{token:r}=(0,b.SF)(),[m,x]=s.useState(!1);let[v,j]=s.useState(""),[g,f]=(0,s.useState)("");const[N,y]=s.useState(!1);s.useEffect(()=>{clearTimeout(),setTimeout(()=>{y(!1)},2e3)},[N]);const S=(0,p.Wx)({initialValues:{email:"",dob:"2001-01-26",first_name:"",middle_name:"",last_name:"",contact:"",father_name:"",gender:"male",sendemail:!1},validationSchema:I.Ik().shape({email:I.Yj().email().required("Email is required"),dob:I.Yj().required("Pin code is Required"),first_name:I.Yj().max(100).required("First Name is Required"),last_name:I.Yj().max(100).required("Last Name is Required"),contact:I.Yj().required("Phone Number is Required").matches(/^[0-9]{10}$/,"Invalid Mobile Number"),father_name:I.Yj().max(100).required("Father Name is Required"),gender:I.Yj().required("Gender is required")}),onSubmit:async(e,s)=>{var i,m,u,v,p,b;let{resetForm:g}=s;if(r)try{var N;x(!0);const s=await c.hr.post("admin/addStudent",{email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password,confirm_password:null===e||void 0===e?void 0:e.confirm_password,dob:null===e||void 0===e?void 0:e.dob,instituteId:l,first_name:null===e||void 0===e?void 0:e.first_name,last_name:null===e||void 0===e?void 0:e.last_name,contact:null===e||void 0===e?void 0:e.contact,father_name:null===e||void 0===e?void 0:e.father_name,gender:null===e||void 0===e?void 0:e.gender,sendemail:null===e||void 0===e?void 0:e.sendemail},{headers:{Authorization:r}});switch(s&&x(!1),null===s||void 0===s||null===(N=s.data)||void 0===N?void 0:N.status){case"success":f(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(m=i.result)||void 0===m?void 0:m.username),j(null===s||void 0===s||null===(u=s.data)||void 0===u||null===(v=u.result)||void 0===v?void 0:v.password),d(!0),g(),h.oR.dismiss(),h.oR.success("Student Added"),n.current.click(),a(t+1);break;case"warning":h.oR.dismiss(),h.oR.warning(null===s||void 0===s||null===(p=s.data)||void 0===p?void 0:p.message);break;case"error":h.oR.dismiss(),h.oR.error(null===s||void 0===s||null===(b=s.data)||void 0===b?void 0:b.message)}}catch(y){x(!1),o(y)}}});return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"h-100",children:[(0,u.jsx)("button",{className:"btn me-2 d-flex h-100","data-bs-toggle":"modal","data-bs-target":"#exampleModalLong",children:"Add\xa0Student"}),(0,u.jsx)("div",{className:"modal fade",id:"exampleModalLong",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog",role:"document",children:(0,u.jsxs)("div",{className:"modal-content w-100",style:{minWidth:"100%"},children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Student Register"}),(0,u.jsx)("button",{ref:n,type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,u.jsx)("div",{className:"modal-body  p-0",children:(0,u.jsx)("div",{className:"p-2 p-md-3 p-lg-4",children:(0,u.jsx)("form",{onSubmit:S.handleSubmit,children:(0,u.jsxs)("div",{className:"row g-3",children:[(0,u.jsx)("div",{className:"col-12 col-lg-6",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"first_name",name:"first_name",label:"First Name",size:"large",value:S.values.first_name,onChange:S.handleChange,error:S.touched.first_name&&Boolean(S.errors.first_name),helperText:S.touched.first_name&&S.errors.first_name})}),(0,u.jsx)("div",{className:"col-12 col-lg-6",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"last_name",name:"last_name",label:"Last Name",size:"large",value:S.values.last_name,onChange:S.handleChange,error:S.touched.last_name&&Boolean(S.errors.last_name),helperText:S.touched.last_name&&S.errors.last_name})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"contact",name:"contact",label:"Mobile Number",size:"large",value:S.values.contact,onChange:S.handleChange,error:S.touched.contact&&Boolean(S.errors.contact),helperText:S.touched.contact&&S.errors.contact})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"email",name:"email",label:"Email Address",size:"large",value:S.values.email,onChange:S.handleChange,error:S.touched.email&&Boolean(S.errors.email),helperText:S.touched.email&&S.errors.email})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"dob",name:"dob",type:"date",label:"Date of Birth",size:"large",max:"2022-01-01",min:"2007-01-01",value:S.values.dob,onChange:S.handleChange,error:S.touched.dob&&Boolean(S.errors.dob),helperText:S.touched.dob&&S.errors.dob})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsxs)(T.A,{children:[(0,u.jsx)(Y.A,{id:"gender-label",children:"Gender"}),(0,u.jsxs)(R.A,{"aria-labelledby":"gender-label",defaultValue:S.values.gender,id:"gender",name:"gender",onChange:S.handleChange,row:!0,children:[(0,u.jsx)(z.A,{value:"female",control:(0,u.jsx)(B.A,{}),label:"Female"}),(0,u.jsx)(z.A,{value:"male",control:(0,u.jsx)(B.A,{}),label:"Male"}),(0,u.jsx)(z.A,{value:"other",control:(0,u.jsx)(B.A,{}),label:"Other"})]})]})}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)(E.A,{fullWidth:!0,id:"father_name",name:"father_name",label:"Father's Name",size:"large",value:S.values.father_name,onChange:S.handleChange,error:S.touched.father_name&&Boolean(S.errors.father_name),helperText:S.touched.father_name&&S.errors.father_name})}),(0,u.jsxs)("div",{className:"col-12 form-check",children:[(0,u.jsx)("input",{class:"form-check-input",onChange:S.handleChange,type:"checkbox",value:S.values.sendemail,id:"sendemail"}),(0,u.jsx)("label",{class:"form-check-label",htmlfor:"semdemail",children:"Would you like to send a welcome mail on given email id."})]}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)(C.A,{type:"submit",color:"warning",variant:"contained",className:m?"py-3 bg-success":"py-3",size:"large",fullWidth:!0,children:m?(0,u.jsxs)("div",{className:"d-flex justify-content-around text-light",children:[" ",(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"loading..."})}),(0,u.jsx)("span",{className:"text-light mx-3 text-capitalize",children:"Submitting..."})," "]}):"Submit"})})]})})})})]})})}),(0,u.jsx)("div",{children:(0,u.jsx)(L.A,{open:i,onClose:()=>d(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,u.jsxs)(M.A,{sx:P,children:[(0,u.jsx)(W.A,{className:"text-center",id:"modal-modal-title",variant:"h6",component:"h2",children:(0,u.jsx)("strong",{children:" Registered Succesfully"})}),(0,u.jsxs)(W.A,{id:"modal-modal-description",sx:{mt:2},children:[(0,u.jsx)("strong",{children:"Username : "}),"\xa0",g]}),(0,u.jsxs)(W.A,{id:"modal-modal-description",sx:{mt:2},children:[(0,u.jsx)("strong",{children:"Password : "}),"\xa0",v]}),(0,u.jsxs)(C.A,{variant:"outlined",fullWidth:!0,className:"px-2 py-1 border-2 rounded-0 rounded-bottom mt-4",color:N?"success":"warning",onClick:()=>{navigator.clipboard.writeText(v),y(!0)},children:[N?(0,u.jsx)(q.A,{}):(0,u.jsx)(O.A,{})," ",(0,u.jsx)("br",{}),N?(0,u.jsx)("small",{children:"COPIED"}):(0,u.jsx)("small",{children:"COPY"})]}),(0,u.jsx)("p",{className:"text-center mb-0",children:(0,u.jsx)("strong",{children:"Copy The Password"})})]})})})]})})}var U=t(81045),H=t(60184);const G=e=>{let{certificatesByInstitutes:l,idToSend:t}=e;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"certificates-by-institutes-data table-responsive rounded-3 border mb-4",children:(0,u.jsxs)("table",{className:"table table-borderless table-lg",children:[(0,u.jsx)("thead",{className:"table-light",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Profile"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"StudentId"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Name"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Certificate Key"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Accredited By"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Endorsed By"}),(0,u.jsx)("th",{scope:"col",className:"p-3 px-2",children:"Created At"})]})}),(0,u.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((e,l)=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-3",scope:"row",children:(0,u.jsx)(U.A,{src:null===e||void 0===e?void 0:e.profile,sx:{backgroundColor:"orange"},children:(0,u.jsx)(H.NBi,{})})}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.studentId}),(0,u.jsx)("td",{children:(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name)}),(0,u.jsx)("td",{scope:"row",children:null===e||void 0===e?void 0:e.certificate_key}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.accredited_by}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.endorsed_by}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.created_at})]})}))})]})}),(0,u.jsx)("hr",{}),(0,u.jsx)(A,{id:t})]})};var X=t(90504);function K(e){let{Student:l,allStudents:t,StudentName:s,allStudentsName:a}=e;return(0,u.jsxs)("div",{className:"border shadow-sm rounded-4 p-4 h-100",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsxs)("div",{className:"d-flex justify-content-between text-secondary align-items-center",children:[(0,u.jsx)("div",{children:(0,u.jsx)("h1",{className:"fs-2 text-secondary ",children:a})}),(0,u.jsx)("div",{children:(0,u.jsx)("h1",{className:"fw-bolder text-primary",children:t||"0"})})]})}),(0,u.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,u.jsx)("div",{style:{width:"250px"},children:(0,u.jsx)(X.Kf,{type:"doughnut",className:"text-bolder h-100 w-100",data:{labels:[a,s],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[t,l],weight:100}],hoverOffset:2}})})})]})}var $=t(51962),J=t(11238),Q=t(38123),Z=t(8594);const ee=e=>{let{instituteId:l}=e;const[t,a]=s.useState(),[i,n]=s.useState(),[o,r]=s.useState(),[m,x]=s.useState(),[v,j]=s.useState(),[p,f]=s.useState("student"),[N,y]=s.useState(!0),{token:S}=(0,b.SF)(),A=(0,s.useRef)(),{ErrorResponder:w}=(0,_.A)();let[k,F]=(0,s.useState)(0);(0,s.useEffect)(()=>{console.log(N)},[N]);const D=e=>{if(e){const l=J.Wp.json_to_sheet(e),t=J.Wp.book_new();J.Wp.book_append_sheet(t,l,"sheet1"),J._h(t,"SampleData.xlsx")}};return(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"btn me-2 h-100","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn d-flex",children:"Bulk\xa0Registration"}),(0,u.jsx)("div",{className:"modal fade",id:"exampleModalLong",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog",role:"document",children:(0,u.jsx)("div",{className:"modal-content w-100",style:{minWidth:"100%"},children:(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsxs)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:[p," Register"]}),(0,u.jsx)("button",{ref:A,type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]})})})}),(0,u.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog modal-dialog-scrollable modal-fullscreen modal-dialog-centered modal-lg",children:(0,u.jsxs)("div",{className:"modal-content rounded-4",children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsxs)("h1",{className:"modal-title font-weight-bold fs-5",id:"exampleModalLabel",children:[p," Bulk Register"]}),(0,u.jsx)("button",{type:"button",onClick:function(){x(),j(),r(),a(),n()},className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,u.jsxs)("div",{className:"modal-body",children:[(0,u.jsx)("div",{className:"container",children:!m&&(0,u.jsx)("div",{children:o?(0,u.jsx)(Z.A,{data:o,setFileData:r,setFile:n,upload:async()=>{if(!l)return h.oR.warning("Institute Id Not found!!");if(i&&o&&S)try{var e;const a=new FormData;a.append("file",i,i.originalname),a.append("role",p),a.append("instituteId",l),a.append("emailProcess",N);const d=await c.hr.post("institute/bulklogin-admin",a,{headers:{"Content-Type":"multipart/form-data",Authorization:S}});var t,s;if((0,g.z)("success",null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.message),d.data.dataSaved)x(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.dataSaved),F(k+1);if(d.data.dataFailed)j(null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.dataFailed)}catch(a){w(a)}else(0,g.z)("warning","File Not Found!")}}):(0,u.jsxs)("div",{className:"container mx-auto",children:[(0,u.jsxs)("div",{className:"text-center item-center text-danger",children:[(0,u.jsx)("span",{className:"font-weight-bold text-decoration-underline",children:"NOTE"}),(0,u.jsx)("br",{}),(0,u.jsxs)("span",{className:"lh-1",children:["1. Only the Provided Format is allowed for file upload ",(0,u.jsx)("br",{})," 2. Data limit is 1000 Users per Upload."," "]})," ",(0,u.jsx)("br",{}),(0,u.jsx)(d.A,{title:"Use Provided file format to upload the student details",children:(0,u.jsx)(C.A,{className:"mt-2",variant:"outlined",color:"info",href:"https://yuvamanthan.s3.ap-south-1.amazonaws.com/uploads/Student+Registration+Format.xlsx",target:"_blank",children:"Template Sheet"})}),(0,u.jsx)("div",{className:"d-flex justify-centent-center my-3",children:(0,u.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"form-select text-center content-center fs-5 w-50 mx-auto","aria-label":"Default select example",children:[(0,u.jsx)("option",{disabled:!0,children:"Select Type"}),(0,u.jsx)("option",{value:"student",children:"Student"}),(0,u.jsx)("option",{value:"teacher",children:"Teacher"})]})}),(0,u.jsx)(z.A,{control:(0,u.jsx)($.A,{defaultChecked:N,value:N,onChange:e=>y(e.target.checked)}),label:"Send Email with Password"})]}),(0,u.jsxs)("div",{className:"border rounded-3 mt-4",style:{position:"relative",overflow:"hidden"},children:[(0,u.jsx)("input",{className:"fade",style:{minHeight:240,width:"100%",zIndex:200,position:"relative"},type:"file",onClick:e=>{r(),n(),e.target.value=null},onChange:e=>{n(e.target.files[0]),(e=>{if(e.target.files[0]){const l=e.target.files[0];let t=null===l||void 0===l?void 0:l.name.split(".").slice(-1);if(!l||"csv"!==t[0]&&"xlsx"!==t[0]&&"xls"!==t[0])(0,g.z)("error","File Format is not Suported!!");else{a(l.name);const e=new FileReader;e.readAsArrayBuffer(l),e.onload=e=>{var l,t,s;const a=e.target.result,i=J.LF(a,{type:"buffer",skiprows:0}),d=i.Sheets[i.SheetNames[0]],o=J.Wp.sheet_to_json(d);0===o.length?((0,g.z)("error","Data Not Found!"),n()):o.length>1e3?((0,g.z)("error","Exceed Data Limit !!! \n Data Limit : 1000"),n()):null!==(l=o[0])&&void 0!==l&&l.First_Name||null!==(t=o[0])&&void 0!==t&&t.Contact||null!==(s=o[0])&&void 0!==s&&s.Email?r(o):((0,g.z)("error","File Format Incorrect"),n())}}}})(e)},id:"fileData"}),i&&(0,u.jsx)(Q.A,{}),(0,u.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:100},className:"w-100 h-100",children:(0,u.jsx)("div",{className:"h-100 w-100 bg-light",children:(0,u.jsxs)("div",{className:"py-4 text-center",children:[(0,u.jsx)("h4",{children:"Drag and drop or Click To Add File."}),(0,u.jsx)("img",{src:"/images/upload-cloud-folder.png",alt:"",width:200,style:{objectFit:"contain"}})]})})})]})]})})}),(0,u.jsxs)("div",{hidden:!m||!m,className:"container text-center item-center m-2 p-2",children:[(0,u.jsx)("p",{className:" text-decoration-underline lh-1",children:" Download the Data in Excel File "}),(0,u.jsxs)("p",{className:"text-decoration-underline lh-1",style:{color:"red",fontSize:"15px"},children:[" ","(*Only Available once.)"," "]}),(0,u.jsx)(C.A,{hidden:!(null!==m&&void 0!==m&&m.length),className:"rounded border mx-2",color:"success",onClick:function(){let e=[];m.map(l=>{e.push({ID:null===l||void 0===l?void 0:l.id,First_Name:null===l||void 0===l?void 0:l.first_name,Last_Name:null===l||void 0===l?void 0:l.last_name,Email:null===l||void 0===l?void 0:l.email,Password:null===l||void 0===l?void 0:l.password})}),D(e)},children:"Registered Data"}),(0,u.jsx)(C.A,{hidden:!(null!==v&&void 0!==v&&v.length),className:"rounded border mx-2",onClick:()=>{D(v)},children:"Unregistered Data"})]}),m&&!!Object.keys(m).length&&(0,u.jsxs)("div",{className:"container mx-auto my-4 align-items-center text-center",children:[(0,u.jsxs)("h5",{className:"font-weight-bold text-center ts-f",children:[p," Registered ",Object.keys(m).length," "]}),(0,u.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Student ID"}),(0,u.jsx)("th",{children:"First Name"}),(0,u.jsx)("th",{children:"Last Name"}),(0,u.jsx)("th",{children:"Contact"}),(0,u.jsx)("th",{children:"Email"}),(0,u.jsx)("th",{children:"Password"})]})}),(0,u.jsx)("tbody",{children:m&&m.map(e=>{let{id:l,first_name:t,last_name:s,contact:a,email:i,password:d}=e;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:l}),(0,u.jsx)("td",{children:t}),(0,u.jsxs)("td",{children:[s," "]}),(0,u.jsx)("td",{children:a}),(0,u.jsx)("td",{children:i}),(0,u.jsx)("td",{children:d})]})})})]})]}),v&&!!Object.keys(v).length&&(0,u.jsxs)("div",{className:"container mx-auto my-4 aline-cengter text-center",children:[(0,u.jsx)("h5",{className:"font-weight-bold text-center",children:"Student Failed To Register"}),(0,u.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"First Name"}),(0,u.jsx)("th",{children:"Last Name"}),(0,u.jsx)("th",{children:"Contact"}),(0,u.jsx)("th",{children:"Email"}),(0,u.jsx)("th",{children:"Reason"})]})}),(0,u.jsx)("tbody",{children:v&&v.map(e=>{let{First_Name:l,Last_Name:t,Contact:s,Email:a,Error:i}=e;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:l}),(0,u.jsxs)("td",{children:[t," "]}),(0,u.jsx)("td",{children:s}),(0,u.jsx)("td",{children:a}),(0,u.jsx)("td",{className:"text-danger font-weight-bold",children:i})]})})})]})]})]})]})})})]})};var le=t(33464);function te(){let[e,l]=(0,s.useState)();const{ErrorResponder:t}=(0,_.A)();let[a,i]=(0,s.useState)(),[d,o]=(0,s.useState)(!1);const{id:r}=(0,k.g)(),{adminRoles:h}=(0,b.SF)();(0,s.useEffect)(()=>{(async()=>{try{const t=await c.DX.get("admin/institute-gallery/".concat(r));var e,s;console.log("admin/institute-gallery/".concat(r)),200==t.status&&(console.log(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.result),l(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.result))}catch(a){t(a)}})()},[a]);const m=(0,p.Wx)({initialValues:{img:"",alttext:""},onSubmit:async function(e,l){if(e.img){var s;if(!e.alttext.length)e.alttext=null===e||void 0===e||null===(s=e.img)||void 0===s?void 0:s.name;try{200==(await c.DX.post("admin/institute-gallery/".concat(r),e)).status&&l.resetForm(),i(a+1)}catch(d){t(d)}}else g.g.warning({title:"please fill all the fields"})}});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,u.jsx)("h4",{children:"Gallery"}),(0,u.jsx)("button",{hidden:!(1===h()),type:"submit",className:"btn btn-primary",onClick:()=>{o(!d)},children:"Add Images"})]}),(0,u.jsx)("div",{className:"resources-data table-responsive rounded-3 border",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:"table-danger",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"id"}),(0,u.jsx)("th",{scope:"col",children:"image"}),(0,u.jsx)("th",{scope:"col",children:"alttext"}),(0,u.jsx)("th",{hidden:3===h()||5===h(),scope:"col",children:"action"})]})}),(0,u.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{children:[(0,u.jsxs)("th",{scope:"row",children:[null===e||void 0===e?void 0:e.id," "]}),(0,u.jsxs)("td",{children:[" ",(0,u.jsx)("img",{src:null===e||void 0===e?void 0:e.img,height:"100px"})," "]}),(0,u.jsxs)("td",{children:[null===e||void 0===e?void 0:e.alttext," "]}),(0,u.jsx)("td",{hidden:3===h()||5===h(),children:(0,u.jsx)(n.A,{sx:{color:"tomato"},onClick:async()=>{S().fire({title:"Are you sure?",text:"You wanted to delete this Resouorce!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(l.isConfirmed)try{const l=await c.hr.delete("admin/institute-gallery?id=".concat(null===e||void 0===e?void 0:e.id));200==(null===l||void 0===l?void 0:l.status)&&(S().fire({title:l.data.message,icon:"success"}),i(a+1))}catch(s){t(s)}})},children:(0,u.jsx)(le.A,{fontSize:"large"})})})]})}))})]})})]}),(0,u.jsxs)(f.A,{show:d,onHide:()=>o(!1),children:[(0,u.jsx)(f.A.Header,{closeButton:!0,children:(0,u.jsx)(f.A.Title,{className:"text-dark fs-5",children:"Add Image"})}),(0,u.jsx)(f.A.Body,{children:(0,u.jsx)("div",{hidden:!(1===h()),children:(0,u.jsxs)("form",{onSubmit:m.handleSubmit,children:[(0,u.jsxs)("div",{class:"mb-3",children:[(0,u.jsx)("label",{for:"img",class:"form-label",children:"Image"}),(0,u.jsx)("input",{type:"file",name:"img",accept:".png, .jpg, .jpeg",className:"form-control",id:"img",onChange:e=>{e.target.files.length&&m.setFieldValue("img",e.target.files[0])}})]}),(0,u.jsxs)("div",{class:"mb-3",children:[(0,u.jsx)("label",{for:"alttext",class:"form-label",children:"AltText"}),(0,u.jsx)("input",{type:"text",name:"alttext",className:"form-control ",id:"alttext",value:m.values.alttext,onChange:m.handleChange})]}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})]})]})}}}]);
//# sourceMappingURL=4304.3fff60d3.chunk.js.map