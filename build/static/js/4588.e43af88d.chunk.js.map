{"version":3,"file":"static/js/4588.e43af88d.chunk.js","mappings":"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","sources":["pages/Admin/pages/Contact.jsx"],"sourcesContent":["import { apiAuth, apiJson } from \"api\";\r\nimport { useGlobalContext } from \"global/context\";\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { ButtonBase } from \"@mui/material\";\r\n\r\nconst Contact = () => {\r\n  let {adminRoles} = useGlobalContext()\r\n  let [contactData, setContactData] = useState([]);\r\n  let [update, setUpdate] = useState(0);\r\n  const [offset, setOffset] = useState(0);\r\n  const [limit, setLimit] = useState(10);\r\n  const [contact, setContact] = useState(\"\");\r\n\r\n  const getAllContact = async () => {\r\n    try {\r\n      const res = await apiJson.get(`/admin/pagination/contactUs?page=${limit}&offset=${offset}&subject=${contact}`);\r\n      if (res.status === 200) {\r\n        // console.log(\"All contacts Data: \", res.data);\r\n        setContactData(res?.data);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"All Contacts Error: \", error);\r\n    }\r\n  };\r\n\r\n  const handlePaginationNext = () => {\r\n    let increment = Number(offset) + Number(limit);\r\n    console.log(increment);\r\n\r\n    if (increment < contactData?.count) {\r\n      setOffset(increment);\r\n      console.log(\"Pagination to next page \" + offset);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllContact();\r\n  }, [update, limit, offset, contact]);\r\n\r\n  const handlePaginationPrev = () => {\r\n    let decrement = Number(offset) - Number(limit);\r\n    console.log(decrement);\r\n\r\n    if (decrement > 0) {\r\n      setOffset(decrement);\r\n      console.log(\"Pagination to prev page \" + offset);\r\n    } else {\r\n      setOffset(0);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    console.log(id);\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You wanted to delete this student!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then(async (result) => {\r\n      console.log(result);\r\n      if (result.isConfirmed) {\r\n        console.log(result);\r\n        try {\r\n          const res = await apiAuth.delete(\"admin/contactus?id=\" + id);\r\n          if (res.status === 200) {\r\n            Swal.fire({\r\n              title: res.data.message,\r\n              icon: \"success\",\r\n            });\r\n            setUpdate(update + 1);\r\n          }\r\n        } catch (error) {\r\n          Swal.fire({\r\n            width: 400,\r\n            title: error?.response?.data?.message\r\n              ? error?.response?.data?.message\r\n              : \"Something Went Wrong Check  your Network Connection\",\r\n            icon: \"error\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"d-flex justify-content-between\">\r\n        <p>Contact Management</p>\r\n        <select\r\n                name=\"limit\"\r\n                className=\"form-control pe-2\" style={{width: \"10rem\"}}\r\n                onChange={(e) => setContact(e.target.value)}\r\n              >\r\n                <option value=\"\">Contacts</option>\r\n                <option value=\"NEWSLETTER\">Newsletter</option>\r\n                <option value=\"query\">Other</option>\r\n              </select>\r\n      </div>\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table table-striped table-bordered table-hover\">\r\n          <thead className=\"table-dark\">\r\n            <tr>\r\n              <th scope=\"col\">full name</th>\r\n              <th scope=\"col\">subject</th>\r\n              <th scope=\"col\">message</th>\r\n              <th scope=\"col\">contact</th>\r\n              <th scope=\"col\">email</th>\r\n              <th hidden={adminRoles() === 3 || adminRoles() === 5} scope=\"col\">Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {contactData?.result &&\r\n                contactData?.result?.map((value, index) => {\r\n                  // console.log(value);\r\n                  return(\r\n                    <>\r\n                    <tr>\r\n                    <td scope=\"col\"><span className=\"line-clamp-blog\">{value?.full_name}</span></td>\r\n                    <td scope=\"col\"><span className=\"line-clamp-blog\">{value?.subject}</span></td>\r\n                    <td scope=\"col\"><span className=\"line-clamp-blog\">{value?.message}</span></td>\r\n                    <td scope=\"col\"><span className=\"line-clamp-blog\">{value?.contact}</span></td>\r\n                    <td scope=\"col\"><span className=\"line-clamp-blog\">{value?.email}</span></td>\r\n                    <td hidden = {adminRoles() === 3 || adminRoles() === 5}>\r\n                    <button \r\n                            type=\"button\"\r\n                            className=\"btn btn-sm btn-outline-danger rounded\"\r\n                            onClick={() => {\r\n                              handleDelete(value?.id);\r\n                            }}\r\n                          >\r\n                            delete\r\n                          </button>\r\n                    </td>\r\n                    </tr>\r\n\r\n                    </>\r\n                  )\r\n                } )\r\n              }\r\n              \r\n            </tbody>\r\n        </table>\r\n        <div className=\"bg-light p-3\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <span className=\"text-dark\">\r\n              Showing {contactData?.result?.length} out of {contactData?.count}\r\n            </span>\r\n            <div className=\"d-flex align-items-center\">\r\n              <select\r\n                name=\"limit\"\r\n                className=\"form-control pe-2 text-start\"\r\n                onChange={(e) => setLimit(e.target.value)}\r\n              >\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"25\">25</option>\r\n                <option value=\"30\">30</option>\r\n              </select>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline-primary\"\r\n                disabled={Number(offset) < Number(limit) ? true : false}\r\n                onClick={handlePaginationPrev}\r\n                className=\"text-capitalize h-100 mx-2\"\r\n              >\r\n                prev\r\n              </Button>\r\n              <ButtonBase>1</ButtonBase>\r\n              <Button\r\n                size=\"sm\"\r\n                onClick={handlePaginationNext}\r\n                disabled={\r\n                  Number(offset) + Number(limit) + 1 > contactData?.count\r\n                    ? true\r\n                    : false\r\n                }\r\n                variant=\"outline-primary\"\r\n                className=\"text-capitalize h-100 ms-2\"\r\n              >\r\n                next\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n \r\nexport default Contact"],"names":["Contact","_contactData$result","_contactData$result2","adminRoles","useGlobalContext","contactData","setContactData","useState","update","setUpdate","offset","setOffset","limit","setLimit","contact","setContact","useEffect","async","res","apiJson","get","concat","status","data","error","console","log","getAllContact","_jsxs","children","class","_jsx","name","className","style","width","onChange","e","target","value","scope","hidden","result","map","index","_Fragment","full_name","subject","message","email","type","onClick","id","Swal","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","isConfirmed","apiAuth","delete","_error$response","_error$response$data","_error$response2","_error$response2$data","response","handleDelete","length","count","Button","size","variant","disabled","Number","handlePaginationPrev","decrement","ButtonBase","handlePaginationNext","increment"],"sourceRoot":""}