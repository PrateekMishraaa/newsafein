"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[4588],{94588:(e,l,n)=>{n.r(l),n.d(l,{default:()=>u});var s=n(45543),t=n(85595),o=n(65043),i=n(30064),c=n.n(i),a=n(14282),d=n(72949),r=n(70579);const u=()=>{var e,l;let{adminRoles:n}=(0,t.SF)(),[i,u]=(0,o.useState)([]),[h,m]=(0,o.useState)(0);const[v,x]=(0,o.useState)(0),[p,j]=(0,o.useState)(10),[g,b]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{try{const e=await s.TR.get("/admin/pagination/contactUs?page=".concat(p,"&offset=").concat(v,"&subject=").concat(g));200===e.status&&u(null===e||void 0===e?void 0:e.data)}catch(e){console.log("All Contacts Error: ",e)}})()},[h,p,v,g]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{class:"d-flex justify-content-between",children:[(0,r.jsx)("p",{children:"Contact Management"}),(0,r.jsxs)("select",{name:"limit",className:"form-control pe-2",style:{width:"10rem"},onChange:e=>b(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Contacts"}),(0,r.jsx)("option",{value:"NEWSLETTER",children:"Newsletter"}),(0,r.jsx)("option",{value:"query",children:"Other"})]})]}),(0,r.jsxs)("div",{class:"table-responsive",children:[(0,r.jsxs)("table",{class:"table table-striped table-bordered table-hover",children:[(0,r.jsx)("thead",{className:"table-dark",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"full name"}),(0,r.jsx)("th",{scope:"col",children:"subject"}),(0,r.jsx)("th",{scope:"col",children:"message"}),(0,r.jsx)("th",{scope:"col",children:"contact"}),(0,r.jsx)("th",{scope:"col",children:"email"}),(0,r.jsx)("th",{hidden:3===n()||5===n(),scope:"col",children:"Delete"})]})}),(0,r.jsx)("tbody",{children:(null===i||void 0===i?void 0:i.result)&&(null===i||void 0===i||null===(e=i.result)||void 0===e?void 0:e.map((e,l)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{scope:"col",children:(0,r.jsx)("span",{className:"line-clamp-blog",children:null===e||void 0===e?void 0:e.full_name})}),(0,r.jsx)("td",{scope:"col",children:(0,r.jsx)("span",{className:"line-clamp-blog",children:null===e||void 0===e?void 0:e.subject})}),(0,r.jsx)("td",{scope:"col",children:(0,r.jsx)("span",{className:"line-clamp-blog",children:null===e||void 0===e?void 0:e.message})}),(0,r.jsx)("td",{scope:"col",children:(0,r.jsx)("span",{className:"line-clamp-blog",children:null===e||void 0===e?void 0:e.contact})}),(0,r.jsx)("td",{scope:"col",children:(0,r.jsx)("span",{className:"line-clamp-blog",children:null===e||void 0===e?void 0:e.email})}),(0,r.jsx)("td",{hidden:3===n()||5===n(),children:(0,r.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger rounded",onClick:()=>{(async e=>{console.log(e),c().fire({title:"Are you sure?",text:"You wanted to delete this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(console.log(l),l.isConfirmed){console.log(l);try{const l=await s.DX.delete("admin/contactus?id="+e);200===l.status&&(c().fire({title:l.data.message,icon:"success"}),m(h+1))}catch(a){var n,t,o,i;c().fire({width:400,title:null!==a&&void 0!==a&&null!==(n=a.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.message?null===a||void 0===a||null===(o=a.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message:"Something Went Wrong Check  your Network Connection",icon:"error"})}}})})(null===e||void 0===e?void 0:e.id)},children:"delete"})})]})})))})]}),(0,r.jsx)("div",{className:"bg-light p-3",children:(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsxs)("span",{className:"text-dark",children:["Showing ",null===i||void 0===i||null===(l=i.result)||void 0===l?void 0:l.length," out of ",null===i||void 0===i?void 0:i.count]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsxs)("select",{name:"limit",className:"form-control pe-2 text-start",onChange:e=>j(e.target.value),children:[(0,r.jsx)("option",{value:"5",children:"5"}),(0,r.jsx)("option",{value:"10",children:"10"}),(0,r.jsx)("option",{value:"15",children:"15"}),(0,r.jsx)("option",{value:"20",children:"20"}),(0,r.jsx)("option",{value:"25",children:"25"}),(0,r.jsx)("option",{value:"30",children:"30"})]}),(0,r.jsx)(a.A,{size:"sm",variant:"outline-primary",disabled:Number(v)<Number(p),onClick:()=>{let e=Number(v)-Number(p);console.log(e),e>0?(x(e),console.log("Pagination to prev page "+v)):x(0)},className:"text-capitalize h-100 mx-2",children:"prev"}),(0,r.jsx)(d.A,{children:"1"}),(0,r.jsx)(a.A,{size:"sm",onClick:()=>{let e=Number(v)+Number(p);console.log(e),e<(null===i||void 0===i?void 0:i.count)&&(x(e),console.log("Pagination to next page "+v))},disabled:Number(v)+Number(p)+1>(null===i||void 0===i?void 0:i.count),variant:"outline-primary",className:"text-capitalize h-100 ms-2",children:"next"})]})]})})]})]})}}}]);
//# sourceMappingURL=4588.e43af88d.chunk.js.map