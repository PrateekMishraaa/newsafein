"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[6298],{76298:(s,e,r)=>{r.r(e),r.d(e,{default:()=>m});var a=r(20648),o=(r(65043),r(73216)),n=r(35475),d=r(73033),l=r(67784),i=r(42518),t=r(65324),c=r(45543),w=r(70579);const m=()=>{const{token:s}=(0,o.g)(),e=(0,o.Zp)(),r=d.Ik({newPassword:d.Yj().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:d.Yj().oneOf([d.KR("newPassword"),null],"Passwords must match").required("Confirm password is required")}),m=(0,a.Wx)({initialValues:{newPassword:"",confirmPassword:""},validationSchema:r,onSubmit:async(r,a)=>{console.log("Formik Data: ",r),console.log("Token Data: ",s);try{(0,t.z)("loading","Processing your request");const r=await c.TR.post("auth/update-password",{password:m.values.newPassword,token:s});console.log(r),200==(null===r||void 0===r?void 0:r.status)&&((0,t.z)("success",r.data.message),e("/login"))}catch(o){console.log(o),(0,t.z)("error",o.response.data.message)}}});return(0,w.jsx)("div",{className:"py-5 position-relative bg-light min-vh-100",style:{zIndex:10},children:(0,w.jsxs)("div",{className:"container border rounded rounded-4 p-3 p-lg-4 shadow-sm bg-white",style:{maxWidth:"450px"},children:[(0,w.jsx)("form",{onSubmit:m.handleSubmit,children:(0,w.jsxs)("div",{className:"form-action-wrapper text-center py-3 py-lg-4",children:[(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("h4",{className:" fs-2 fw-bold",children:"Reset Password"}),(0,w.jsx)("div",{className:"divider",children:(0,w.jsx)("span",{})}),(0,w.jsx)("p",{className:"pt-3",children:"Please enter your new password below to reset your password and gain access to your account."})]}),(0,w.jsx)("div",{className:"form-group ",children:(0,w.jsx)(l.A,{fullWidth:!0,placeholder:"Your New Password",label:"New Password",id:"newPassword",name:"newPassword",type:"password",value:m.values.newPassword,onChange:m.handleChange,error:m.touched.newPassword&&Boolean(m.errors.newPassword),helperText:m.touched.newPassword&&m.errors.newPassword})}),(0,w.jsx)("div",{className:"form-group mt-3",children:(0,w.jsx)(l.A,{fullWidth:!0,placeholder:"Your Confirm Password",label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:m.values.confirmPassword,onChange:m.handleChange,error:m.touched.confirmPassword&&Boolean(m.errors.confirmPassword),helperText:m.touched.confirmPassword&&m.errors.confirmPassword})}),(0,w.jsx)("div",{className:"form-group mt-3",children:(0,w.jsxs)(i.A,{variant:"outlined",color:"warning",id:"send-message-btn",size:"large",className:"w-100 py-3 rounded-3",type:"submit",children:["Update Password"," ",(0,w.jsx)("i",{className:"la la-arrow-right icon ml-1"})]})})]})}),(0,w.jsx)("p",{className:"text-center",children:(0,w.jsx)(n.N_,{to:"/login",className:"text-primary",children:"Return to log in"})})]})})}}}]);
//# sourceMappingURL=6298.530138d6.chunk.js.map