"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[1220],{51220:(e,s,i)=>{i.r(s),i.d(s,{default:()=>j});var t=i(45543),l=i(65043),a=i(81045),n=i(42518),c=i(85595),o=i(73216),r=i(21179),d=i(13127),u=i(71080),f=i(71110),p=i.n(f);var m=i(47503),h=i(57313),g=i(70579);const j=()=>{const{token:e}=(0,c.SF)(),{fullDetails:s,fetchDetails:i}=(0,o.KC)(),[f,j]=l.useState(""),{ErrorResponder:x}=(0,u.A)();return(0,g.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2 mb-3 g-2",children:[(0,g.jsx)("div",{className:"col",children:(0,g.jsx)("h6",{children:"Profile Picture"})}),(0,g.jsx)("div",{className:"col",children:(0,g.jsxs)("form",{onSubmit:async function(s){if(s.preventDefault(),m.oR.loading("Updating...."),null!==f&&void 0!==f&&f.size&&f.size<5169186){const s=new FormData;if(s.append("file",f),e)try{const l=await t.DX.put("/student/profile?update_type=profile_pic",s,{headers:{Authorization:e}});200===l.status&&(i(),m.oR.dismiss(),m.oR.success(l.data.message))}catch(l){x(l)}else m.oR.dismiss()}else f.size>=5169186?(m.oR.dismiss(),m.oR.warning("Max 5mb is allowed")):(m.oR.dismiss(),m.oR.warning("Image not selected!"))},className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)(a.A,{alt:"",name:"profilepic",className:"rounded ms-0",src:f?URL.createObjectURL(f):null===s||void 0===s?void 0:s.profile,sx:{width:80,height:80}}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,g.jsxs)(h.Ay,{color:"success","aria-label":"upload picture",component:"label",children:[(0,g.jsx)("input",{hidden:!0,name:"profile",accept:".png, .jpg, .jpeg",type:"file",onChange:e=>j(function(e){if(e){let i=1e3*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:20)/e.size;var{file:s}=new(p())(e,{quality:i,success:e=>{let s=new FormData;return s.append("file",e,e.name),s.get("file")}});return s}}(e.target.files[0]))}),(0,g.jsx)(r.A,{})]}),(0,g.jsx)(n.A,{startIcon:(0,g.jsx)(d.A,{}),color:"success",variant:"outlined",className:"ms-2 rounded-3",size:"large",type:"submit",children:"Upload Profile Pic"})]})]})})]})}}}]);
//# sourceMappingURL=1220.d64420d3.chunk.js.map