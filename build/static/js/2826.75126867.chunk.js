"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[2826],{39880:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(66734),n=s(70579);const l=(0,a.A)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchTwoTone")},39983:(e,t,s)=>{var a=s(24994);t.A=void 0;var n=a(s(40039)),l=s(70579);t.A=(0,n.default)((0,l.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp")},40430:(e,t,s)=>{var a=s(24994);t.A=void 0;var n=a(s(40039)),l=s(70579);t.A=(0,n.default)((0,l.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown")},42949:(e,t,s)=>{s.d(t,{HB:()=>c,Kx:()=>o,PJ:()=>r});var a=s(45543),n=s(47503),l=s(30064),i=s.n(l);const o=async e=>{const t=await i().fire({title:"Please type 'confirm' for Delete the User.",input:"text",inputValue:"",showCancelButton:!0,inputValidator:e=>{if(!e)return"Please Enter Text 'confirm' in Input Field."},customClass:{title:"title_text"}});if(t.isConfirmed){const i=t.value;try{let t=await a.TR.delete("/admin/deleteUserData/".concat(e,"?confirmation=").concat(i));200==t.status&&n.oR.success(t.data.message)}catch(r){var s,l,o,c;n.oR.error(null!==r&&void 0!==r&&null!==(s=r.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.message?null===r||void 0===r||null===(o=r.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message:"Something Went Wrong Check your Network Connection")}}},c=async e=>{const t=await i().fire({title:"Please type 'confirm' for Delete the Institute.",input:"text",inputValue:"",showCancelButton:!0,inputValidator:e=>{if(!e)return"Please Enter Text 'confirm' in Input Field."},customClass:{title:"title_text"}});if(t.isConfirmed){const i=t.value;try{let t=await a.TR.delete("/admin/deleteInstituteData/".concat(e,"?confirmation=").concat(i));200==t.status&&n.oR.success(t.data.message)}catch(r){var s,l,o,c;n.oR.error(null!==r&&void 0!==r&&null!==(s=r.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.message?null===r||void 0===r||null===(o=r.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message:"Something Went Wrong Check your Network Connection")}}},r=async e=>{if((await i().fire({title:"Are you sure?",text:"You want to delete this certifate.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"})).isConfirmed)try{let t=await a.TR.delete("/admin/deleteCertifate/".concat(e));200==t.status&&n.oR.success(t.data.message)}catch(c){var t,s,l,o;n.oR.error(null!==c&&void 0!==c&&null!==(t=c.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.message?null===c||void 0===c||null===(l=c.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message:"Something went wrong check your Network connection.")}}},51387:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(66734),n=s(70579);const l=(0,a.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},72826:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(72949),n=s(18483),l=s(42518),i=s(65324),o=s(86178),c=s.n(o),r=s(40430),d=s(39983),u=s(65043),m=s(45543),h=s(51387),v=s(39880),x=s(42949),p=s(70579);const f=[{name:"Student Name",sort:"first_name"},{name:"Course Name",sort:"course_name"},{name:"Certificate Key",sort:"certificate_key"},{name:"Institute Name",sort:"institution_name"},{name:"Assigned Date",sort:"createdAt"}],j=()=>{var e,t;const[s,o]=u.useState([]),[j,g]=u.useState(10),[N,b]=u.useState(0),[w,C]=u.useState(""),[y,A]=u.useState("createdAt"),[k,S]=u.useState(!0);async function D(){try{const e=await m.DX.get("admin/certificate?data=students&limit=".concat(j,"&sort=").concat(y,"&sortattr=").concat(k,"&offset=").concat(N,"&search=").concat(w));200==e.status&&o(null===e||void 0===e?void 0:e.data)}catch(e){(0,i.z)("error","Something went wrong")}}u.useEffect(()=>{D()},[N,y,k,j]);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("h4",{children:"Certificates"})}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-lg-8",children:(0,p.jsxs)("div",{className:"input-group",children:[(0,p.jsx)("input",{value:w,onChange:e=>C(e.target.value),className:"form-control",placeholder:"Type Something here... ",fullWidth:!0,onKeyDown:e=>{"Enter"==e.key&&D()}}),Boolean(w.length)&&(0,p.jsxs)("button",{className:"btn btn-outline-danger",onClick:()=>{C(""),async function(){try{const e=await m.DX.get("admin/certificate?data=students&limit=".concat(j,"&sort=").concat(y,"&sortattr=").concat(k,"&offset=").concat(N,"&search="));200==e.status&&(o(null===e||void 0===e?void 0:e.data),console.log(null===e||void 0===e?void 0:e.data))}catch(e){(0,i.z)("error","Something went wrong")}}()},children:[(0,p.jsx)(h.A,{className:"fs-6"})," clear"]}),(0,p.jsxs)("button",{className:"btn btn-primary",onClick:D,children:[(0,p.jsx)(v.A,{className:"fs-6"})," Search"]})]})})}),(0,p.jsxs)("div",{className:"table-responsive border rounded mt-3",children:[(0,p.jsxs)("table",{className:"designed-table table table-borderless align-middle mb-0",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"bg-light",children:[(0,p.jsx)("th",{scope:"col",children:"Certificates"}),f.map((e,t)=>(0,p.jsx)("th",{scope:"col",children:(0,p.jsx)(a.A,{onClick:()=>{var t;(t=e.sort)==y?S(!k):A(t)},onDoubleClick:()=>A(null),className:"text-capitalize p-2",children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("span",{className:"text-nowrap",children:e.name}),y===e.sort&&1==k&&(0,p.jsx)(d.A,{sx:{color:"green"}}),y===e.sort&&0==k&&(0,p.jsx)(r.A,{sx:{color:"tomato"}})]})})})),(0,p.jsx)("th",{scope:"col",children:"Action"})]})}),(0,p.jsx)("tbody",{children:null===s||void 0===s||null===(e=s.result)||void 0===e?void 0:e.map((e,t)=>(0,p.jsxs)("tr",{className:"border-bottom",children:[(0,p.jsx)("td",{children:(0,p.jsx)(n.A,{title:"Click Here to Download",children:(0,p.jsx)("a",{download:!0,href:null===e||void 0===e?void 0:e.img,children:(0,p.jsx)("img",{src:null===e||void 0===e?void 0:e.img,width:80})})})}),(0,p.jsxs)("td",{className:"p-1",children:[null===e||void 0===e?void 0:e.title," ",null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]}),(0,p.jsx)("td",{className:"p-1",children:null===e||void 0===e?void 0:e.course_name}),(0,p.jsx)("td",{className:"p-1",children:null===e||void 0===e?void 0:e.certificate_key}),(0,p.jsx)("td",{className:"p-1 text-wrap",style:{width:"200 !important"},children:e.institution_name}),(0,p.jsx)("td",{className:"p-1",style:{width:150},children:e.createdAt&&c()(e.createdAt).format("MMM Do YY")}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"d-flex h-100",children:(0,p.jsxs)("div",{className:"dropdown",children:[(0,p.jsx)("button",{className:"btn btn-outline-dark",type:"button","data-bs-toggle":"dropdown",children:(0,p.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,p.jsx)("ul",{className:"dropdown-menu",children:(0,p.jsx)("li",{className:"dropdown-item",children:(0,p.jsxs)("button",{className:"btn btn-outline-danger w-100",onClick:t=>(async(e,t)=>{e.preventDefault();try{await(0,x.PJ)(t),D()}catch(s){console.error("Error deleting user:",s)}})(t,"".concat(e.id)),children:[(0,p.jsx)("i",{className:"bi bi-trash"})," Delete"]})})})]})})})]},t))})]}),(0,p.jsx)("div",{className:"bg-light p-3",children:(0,p.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,p.jsxs)("span",{className:"text-dark",children:["Showing ",null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.length," out of ",null===s||void 0===s?void 0:s.count]}),(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsxs)("select",{name:"limit",value:j,className:"form-select",onChange:e=>g(e.target.value),children:[(0,p.jsx)("option",{value:"5",children:"5"}),(0,p.jsx)("option",{value:"10",children:"10"}),(0,p.jsx)("option",{value:"15",children:"15"}),(0,p.jsx)("option",{value:"20",children:"20"}),(0,p.jsx)("option",{value:"25",children:"25"}),(0,p.jsx)("option",{value:"30",children:"30"})]}),(0,p.jsx)(l.A,{size:"small",variant:"outlined",onClick:()=>{let e=Number(N)-Number(j);b(e>0?e:0)},className:"text-capitalize h-100 mx-2",disabled:Number(N)<Number(j),children:"prev"}),(0,p.jsx)(a.A,{children:N?N/j+1:1}),(0,p.jsx)(l.A,{size:"small",onClick:()=>{let e=Number(N)+Number(j);e<(null===s||void 0===s?void 0:s.count)&&b(e)},variant:"outlined",className:"text-capitalize h-100 ms-2",disabled:Number(N)+Number(j)+1>s.count,children:"next"})]})]})})]})]})}}}]);
//# sourceMappingURL=2826.75126867.chunk.js.map