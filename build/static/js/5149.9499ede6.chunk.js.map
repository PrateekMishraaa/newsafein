{"version":3,"file":"static/js/5149.9499ede6.chunk.js","mappings":"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","sources":["pages/Admin/AdminCompliance.jsx"],"sourcesContent":["import { apiAuth } from \"api\";\r\nimport axios from \"axios\";\r\nimport { ComplianceTable } from \"components/admin\";\r\nimport React, { useState } from \"react\";\r\nimport { Modal, Button, Card } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AdminCompliance = () => {\r\n  const Navigate = useNavigate();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [reload, setReload] = useState(0);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [thumbnail, setThumbnail] = useState(null);\r\n  const [img, setImg] = useState(\"\");\r\n\r\n  const fileHandler = () => {\r\n    document.getElementById(\"img\").click();\r\n  };\r\n  const fileChangeHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    apiAuth\r\n      .post(\"/admin/temp\", { img: e.target.files[0] })\r\n      .then((res) => {\r\n        setImg(res.data?.file?.Location);\r\n      })\r\n      .catch((error) => console.log(error));\r\n    let object = {\r\n      file: file,\r\n      name: file.name,\r\n      link: URL.createObjectURL(file),\r\n    };\r\n    setThumbnail(object);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!title || title.trim() === \"\") {\r\n      toast.dismiss();\r\n      toast.error(\"Title cannot be blank\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}admin/compliance`, {\r\n        title,\r\n        description,\r\n        thumbnail: img,\r\n      });\r\n      console.log(\"Compliance created:\", response.data.result);\r\n      setTitle(\"\");\r\n      setDescription(\"\");\r\n      setShowModal(false);\r\n      setReload(reload + 1);\r\n    } catch (error) {\r\n      console.error(\"Error creating compliance:\", error);\r\n    }\r\n  };\r\n  const handleToggleModal = () => {\r\n    setShowModal(!showModal);\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setThumbnail({});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button className=\"btn btn-sm btn-primary\" onClick={handleToggleModal}>\r\n        Add Compliance\r\n      </button>\r\n      <Modal show={showModal} onHide={handleToggleModal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Add Compliance</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"title\" className=\"form-label\">\r\n                Title\r\n              </label>\r\n              <input type=\"text\" className=\"form-control\" id=\"title\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <button\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  fileHandler();\r\n                }}\r\n                className=\"btn btn-success btn-sm\">\r\n                Add Thumbnail\r\n              </button>\r\n              <input type=\"file\" className=\"form-control\" id=\"img\" style={{ display: \"none\" }} onChange={fileChangeHandler} />\r\n            </div>\r\n            {thumbnail && thumbnail.name && (\r\n              <Card>\r\n                <Card.Body>\r\n                  <div>{thumbnail.name}</div>\r\n                  <div\r\n                    style={{\r\n                      height: \"350px\",\r\n                      overflow: \"hidden\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                    }}>\r\n                    <img\r\n                      style={{\r\n                        height: \"100%\",\r\n                        objectFit: \"contain\",\r\n                      }}\r\n                      src={thumbnail.link}\r\n                      alt=\"alt\"\r\n                    />\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            )}\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"description\" className=\"form-label\">\r\n                Description\r\n              </label>\r\n              <textarea className=\"form-control\" id=\"description\" value={description} onChange={(e) => setDescription(e.target.value)} />\r\n            </div>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Add\r\n            </Button>\r\n          </form>\r\n        </Modal.Body>\r\n      </Modal>\r\n      {/* Compliance Table  */}\r\n      <ComplianceTable reload={reload} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminCompliance;\r\n"],"names":["AdminCompliance","useNavigate","showModal","setShowModal","useState","title","setTitle","reload","setReload","description","setDescription","thumbnail","setThumbnail","img","setImg","handleToggleModal","_jsxs","_Fragment","children","_jsx","className","onClick","Modal","show","onHide","Header","closeButton","Title","Body","onSubmit","async","e","preventDefault","trim","toast","dismiss","error","response","axios","post","concat","process","console","log","data","result","htmlFor","type","id","value","onChange","target","document","getElementById","click","style","display","file","files","apiAuth","then","res","_res$data","_res$data$file","Location","catch","object","name","link","URL","createObjectURL","Card","height","overflow","justifyContent","alignItems","objectFit","src","alt","Button","variant","ComplianceTable"],"sourceRoot":""}