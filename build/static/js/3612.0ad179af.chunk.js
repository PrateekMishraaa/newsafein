"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[3612],{51387:(e,s,t)=>{t.d(s,{A:()=>a});var l=t(66734),c=t(70579);const a=(0,l.A)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},53612:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var l=t(51387),c=t(83560),a=t(17392),i=t(79722),o=t(65043),n=t(14282),d=t(38628),r=t(72557),h=t(73216),m=t(47503),u=t(70579);const p=()=>{const{id:e}=(0,h.g)(),s=(0,h.Zp)(),[t,p]=(0,o.useState)(!1),[x,g]=(0,o.useState)(""),[j,f]=(0,o.useState)(""),[y,A]=(0,o.useState)([]),[b,v]=(0,o.useState)(!1),[N,C]=(0,o.useState)(null),R=()=>{p(!t)},w=()=>{i.A.get("http://localhost:3100/admin/compliance_category/compliance/"+e).then(e=>{A(e.data.result),console.log("done fetche",e.data.result)}).catch(e=>{console.log(e.message)})};return(0,o.useEffect)(()=>{w()},[]),(0,u.jsxs)("div",{style:{margin:"12px"},className:"m-4",children:[(0,u.jsx)("button",{onClick:()=>{R(),v(!1)},className:"btn btn-outline-success rounded",children:"Create Category"}),(0,u.jsxs)(r.A,{show:t,onHide:R,children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:b?"Edit Compliance":"Add Compliance"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)("form",{onSubmit:s=>{s.preventDefault(),b?i.A.put("http://localhost:3100/admin/compliance_category/"+N,{complianceId:e,title:x,description:j}).then(()=>{m.oR.dismiss(),m.oR.success("successfully updated category"),w(),g(""),v(!1),f(""),p(!1)}).catch(e=>{m.oR.dismiss(),m.oR.error("something went wrong")}):i.A.post("http://localhost:3100/admin/compliance_category",{complianceId:e,title:x,description:j}).then(()=>{m.oR.dismiss(),m.oR.success("successfully created category"),w(),g(""),v(!1),f(""),p(!1)}).catch(e=>{m.oR.dismiss(),m.oR.error("something went wrong")})},children:[(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"title",value:x,onChange:e=>g(e.target.value)})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,u.jsx)("textarea",{className:"form-control",id:"description",value:j,onChange:e=>f(e.target.value)})]}),(0,u.jsx)(n.A,{variant:"primary",type:"submit",children:"Add"})]})})]}),(0,u.jsx)("div",{className:"row g-2 mt-2 row-cols-1 row-cols-lg-3",children:y.map((e,s)=>(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(d.A,{className:"",style:{minHeight:"200px"},children:(0,u.jsxs)(d.A.Body,{children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsx)("span",{style:{color:"black",fontSize:"14px",fontWeight:"700px"},className:"text-capitalize",children:e.title}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)(a.A,{onClick:()=>{v(!0),R(),C(e.id)},className:"",children:(0,u.jsx)(c.A,{})}),(0,u.jsx)(a.A,{onClick:()=>(e=>{i.A.delete("http://localhost:3100/admin/compliance_question/categoryId/"+e).then(e=>console.log("successfully delete")).catch(e=>console.log(e.message)),i.A.delete("http://localhost:3100/admin/compliance_category/"+e).then(()=>{m.oR.dismiss(),m.oR.success("Category Deleted"),w(),g(""),v(!1),f(""),p(!1)}).catch(e=>{m.oR.dismiss(),m.oR.error(e.message)})})(e.id),className:"",children:(0,u.jsx)(l.A,{})})]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:e.description})})]})})},s))}),(0,u.jsx)("div",{className:"d-flex justify-content-end mt-5",children:y.length>0?(0,u.jsx)("button",{className:"btn rounded btn-primary d-block ",onClick:()=>{(e=>{s("/admin/compliance/questions/"+e)})(e)},children:"Continue"}):null})]})}}}]);
//# sourceMappingURL=3612.0ad179af.chunk.js.map