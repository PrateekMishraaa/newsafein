"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[1484],{61484:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var n=l(45543),t=l(65043),o=l(86178),c=l.n(o),i=l(35475),d=l(30064),a=l.n(d),r=l(85595),h=l(70579);const u=()=>{const{adminRoles:e}=(0,r.SF)();let[s,l]=(0,t.useState)(""),[o,d]=(0,t.useState)();(0,t.useEffect)(()=>{console.log(s),(async()=>{console.log("Fetching Quites Data ");try{const s=await n.TR.get("admin/news");var e;200==s.status&&(console.log("All blogs Data: ",s.data.result),l(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.result))}catch(s){console.log("All Quotes Error: ",s)}})()},[o]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,h.jsx)("h4",{children:"Manage News"}),(0,h.jsx)("div",{hidden:!(1===e()),children:(0,h.jsx)(i.k2,{to:"/admin/news/add",className:"btn rounded-3",children:"Add News"})})]}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{class:"table-responsive rounded-3",children:(0,h.jsxs)("table",{class:"table table-striped table-hover",children:[(0,h.jsx)("thead",{className:"table-dark",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",children:"img"}),(0,h.jsx)("th",{scope:"col",children:"title"}),(0,h.jsx)("th",{scope:"col",children:"slug"}),(0,h.jsx)("th",{scope:"col",children:"heading"}),(0,h.jsx)("th",{scope:"col",children:"content"}),(0,h.jsx)("th",{scope:"col",children:"created_at"}),(0,h.jsx)("th",{hidden:5===e(),scope:"col",children:"actions"})]})}),(0,h.jsx)("tbody",{children:s[0]&&(null===s||void 0===s?void 0:s.map((s,l)=>(console.log(s),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{scope:"col",children:(0,h.jsx)("img",{src:null===s||void 0===s?void 0:s.img,alt:"",width:80,height:80})}),(0,h.jsx)("td",{scope:"col",children:(0,h.jsxs)("span",{className:"line-clamp",children:[" ",null===s||void 0===s?void 0:s.title]})}),(0,h.jsx)("td",{scope:"col",children:(0,h.jsxs)("span",{className:"line-clamp",children:[" ",null===s||void 0===s?void 0:s.slug]})}),(0,h.jsxs)("td",{scope:"col",children:[" ",(0,h.jsxs)("span",{className:"line-clamp",children:[" ",null===s||void 0===s?void 0:s.heading]})]}),(0,h.jsx)("td",{scope:"col",children:(0,h.jsxs)("span",{className:"line-clamp",children:[" ",null===s||void 0===s?void 0:s.content]})}),(0,h.jsx)("td",{scope:"col",children:c()(null===s||void 0===s?void 0:s.created_at).fromNow()}),(0,h.jsx)(i.k2,{hidden:5===e(),to:"edit/".concat(s.id),className:"btn bg-success text-white btn-sm rounded w-100 my-1",children:"Edit"}),(0,h.jsx)("button",{hidden:3===e()||5===e(),type:"button",onClick:()=>{(async e=>{console.log(e),a().fire({title:"Are you sure?",text:"You wanted to delete this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(console.log(s),s.isConfirmed){console.log(s);try{const s=await n.DX.delete("admin/news?id="+e);200==s.status&&(a().fire({title:s.data.message,icon:"success"}),d(o+1))}catch(r){var l,t,c,i;a().fire({width:400,title:null!==r&&void 0!==r&&null!==(l=r.response)&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.message?null===r||void 0===r||null===(c=r.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message:"Something Went Wrong Check  your Network Connection",icon:"error"})}}})})(null===s||void 0===s?void 0:s.id)},className:"btn bg-danger text-white btn-sm rounded w-100 my-1",children:"Delete"})]})}))))})]})})})]})}}}]);
//# sourceMappingURL=1484.a52f735a.chunk.js.map