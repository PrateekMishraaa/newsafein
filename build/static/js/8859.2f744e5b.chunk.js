"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[8859],{51962:(e,n,t)=>{t.d(n,{A:()=>z});var s=t(98587),o=t(58168),l=t(65043),i=t(58387),r=t(98610),a=t(67266),c=t(33064),d=t(66734),u=t(70579);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var v=t(6803),x=t(98206),g=t(34535),j=t(61475),b=t(92532),A=t(72372);function f(e){return(0,A.Ay)("MuiCheckbox",e)}const N=(0,b.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),k=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,g.Ay)(c.A,{shouldForwardProp:e=>(0,j.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.indeterminate&&n.indeterminate,n["size".concat((0,v.A)(t.size))],"default"!==t.color&&n["color".concat((0,v.A)(t.color))]]}})(e=>{let{theme:n,ownerState:t}=e;return(0,o.A)({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===t.color?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,a.X4)("default"===t.color?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{["&.".concat(N.checked,", &.").concat(N.indeterminate)]:{color:(n.vars||n).palette[t.color].main},["&.".concat(N.disabled)]:{color:(n.vars||n).palette.action.disabled}})}),S=(0,u.jsx)(m,{}),C=(0,u.jsx)(h,{}),y=(0,u.jsx)(p,{}),z=l.forwardRef(function(e,n){var t,a;const c=(0,x.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=S,color:h="primary",icon:m=C,indeterminate:p=!1,indeterminateIcon:g=y,inputProps:j,size:b="medium",className:A}=c,N=(0,s.A)(c,k),z=p?g:m,M=p?g:d,q=(0,o.A)({},c,{color:h,indeterminate:p,size:b}),Q=(e=>{const{classes:n,indeterminate:t,color:s,size:l}=e,i={root:["root",t&&"indeterminate","color".concat((0,v.A)(s)),"size".concat((0,v.A)(l))]},a=(0,r.A)(i,f,n);return(0,o.A)({},n,a)})(q);return(0,u.jsx)(w,(0,o.A)({type:"checkbox",inputProps:(0,o.A)({"data-indeterminate":p},j),icon:l.cloneElement(z,{fontSize:null!=(t=z.props.fontSize)?t:b}),checkedIcon:l.cloneElement(M,{fontSize:null!=(a=M.props.fontSize)?a:b}),ownerState:q,ref:n,className:(0,i.A)(Q.root,A)},N,{classes:Q}))})},78859:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var s=t(89379),o=t(67784),l=t(18483),i=t(59182),r=t(51962),a=t(42518),c=t(53193),d=t(51292),u=t(57972),h=t(14256),m=t(45543),p=t(85595),v=t(65043),x=t(72557),g=t(73216),j=t(47503),b=t(30064),A=t.n(b),f=t(96621),N=t(70579);const k=function(){const{quiz:e}=(0,g.g)(),[n,t]=(0,v.useState)(),[b,k]=(0,v.useState)(!0),[w,S]=(0,v.useState)(2),[C,y]=(0,v.useState)(null),[z,M]=(0,v.useState)([]),[q,Q]=(0,v.useState)({}),[O,I]=(0,v.useState)(2),[R,B]=(0,v.useState)(!1),[D,H]=(0,v.useState)(),[J,W]=(0,v.useState)({id:"",quizId:"",type:"",ques:"",ans:"",options:"",desc:"",image:""}),[P,E]=(0,v.useState)([]),T=[];let V=[];const{token:_}=(0,p.SF)();if((0,v.useEffect)(()=>{_&&m.DX.get("/course/quiz/questions?id=".concat(e),{headers:{Authorization:_}}).then(e=>{var n,s;t(null===(n=e.data)||void 0===n?void 0:n.quiz),H(null===(s=e.data)||void 0===s?void 0:s.result)}).catch(e=>{console.error(e)})},[_,R]),w)for(let a=1;a<=O;a++)T.push((0,N.jsx)("div",{className:"col",children:(0,N.jsxs)("div",{className:"input-group",children:[(0,N.jsx)(o.A,{className:"",id:"input"+a,required:2!=w,label:5==w?"Image Url ".concat(a):"Option ".concat(a),size:"small",value:q[a],onChange:e=>{Q(n=>(0,s.A)((0,s.A)({},n),{},{[a]:e.target.value}))}},a),(0,N.jsx)(l.A,{hidden:4==w,enterNextDelay:2e3,className:"col-2",title:"Set option as a correct answer.",children:(0,N.jsx)(i.A,{control:(0,N.jsx)(r.A,{color:"success",name:"checkbox"+a,value:!1,onChange:e=>{e.currentTarget.checked?z.push(a):z.pop(a),M(z)}})})})]})},a));function F(n){(function(){switch(Number(w)){case 1:case 5:if(1!==z.length){j.oR.warning("Select single Answer");break}return!0;case 2:return!0;case 3:if(z.length<2){j.oR.warning("Select more then one Answer");break}return!0;case 4:if(0!==z.length){j.oR.warning("Select single Answer");break}return!0;default:return!1}return!1})()&&(k(!b),B(!0),z.length&&(1===z.length?V=q[z[0]]:z.map(e=>V.push(q[e]))),m.hr.post("/course/quiz/questions",{quizId:e,type:w,ques:C,image:JSON.stringify(P),ans:2==w||4==w?null:JSON.stringify(V),options:w?JSON.stringify(Object.values(q)):null}).then(e=>{var t;200===(null===(t=e.data)||void 0===t?void 0:t.status)?(B(!1),j.oR.success("Question Created."),y(""),Q({}),n.target.reset()):(console.log(e),j.oR.error("Something Went Wrong"))}).catch(e=>{console.error(e),j.oR.error("Something Went Wrong")}))}function L(e){switch(e){case 1:return"Single Answer MCQ";case 2:return"Written";case 3:return"Mutiple Answer MCQ";case 4:return"Sample Single Answer MCQ";case 5:return"Image Single Answer MCQ";default:return"Unknown"}}function Y(e){A().fire({title:"Are You Sure ?",text:"You want to delete this Question.",showCancelButton:!0,confirmButtonText:"Yes"}).then(n=>{let{isConfirmed:t}=n;t&&(B(!0),m.hr.delete("/course/quiz/questions?id="+e).then(e=>{var n;j.oR.success(null===(n=e.data)||void 0===n?void 0:n.message),B(!1)}))})}return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"row justify-content-around g-2",children:[(0,N.jsx)("div",{className:"col-12 col-lg-6",children:(0,N.jsxs)("div",{className:"card p-2 text-dark p-lg-3 rounded-0 border border-dark bg-light",children:[(0,N.jsx)("h6",{children:"Title :"})," ",(0,N.jsx)("span",{children:null===n||void 0===n?void 0:n.title})]})}),(0,N.jsx)("div",{className:"col-12 col-lg-6",children:(0,N.jsxs)("div",{className:"card p-2 text-dark p-lg-3 rounded-0 border border-dark bg-light",children:[(0,N.jsx)("h6",{children:"Level :"})," ",(0,N.jsx)("span",{children:null===n||void 0===n?void 0:n.level})]})}),(0,N.jsx)("div",{className:"col-12 col-lg-6",children:(0,N.jsxs)("div",{className:"card p-2 text-dark p-lg-3 rounded-0 border border-dark bg-light",children:[(0,N.jsx)("h6",{children:"Duration : "}),(0,N.jsxs)("span",{children:[null===n||void 0===n?void 0:n.quiz_duration," Min"]})]})}),(0,N.jsx)("div",{className:"col-12 col-lg-6",children:(0,N.jsxs)("div",{className:"card p-2 text-dark p-lg-3 rounded-0 border border-dark bg-light",children:[(0,N.jsx)("h6",{children:"Passing % :"}),(0,N.jsxs)("span",{children:[" ",null===n||void 0===n?void 0:n.passing_criteria]})]})}),(0,N.jsx)("div",{className:"col-12",children:(0,N.jsxs)("div",{hidden:!(null!==n&&void 0!==n&&n.desc),className:"card  text-dark p-lg-3 rounded-0 border border-dark bg-light",children:["Desc : ",null===n||void 0===n?void 0:n.desc]})})]}),(0,N.jsx)("div",{children:(0,N.jsx)(a.A,{variant:"outlined",onClick:()=>{k(!b)},children:"Add Question"})}),(0,N.jsx)("div",{children:null===D||void 0===D?void 0:D.map(e=>{var n,t;return(0,N.jsxs)("div",{className:"card rounded-0 my-2 p-2 w-100 position-relative",children:[(0,N.jsxs)("div",{className:"input-group top-0 end-0 position-absolute justify-content-end",children:[(0,N.jsx)("button",{className:" text-decoration-none border-0 bg-light",title:"Delete",onClick:()=>{Y(e.id)},children:(0,N.jsx)("i",{className:"bi bi-pencil"})}),(0,N.jsx)("button",{className:"text-decoration-none border-0 bg-light",title:"Delete",onClick:()=>{Y(e.id)},children:"\u274e"})]}),(0,N.jsx)("small",{className:"fw-bold",children:L(e.type)}),(0,N.jsxs)("p",{className:"container px-2 fs-6 m-0 ",children:["Q. ",null===e||void 0===e?void 0:e.ques]}),(0,N.jsx)("div",{children:null!==e&&void 0!==e&&null!==(n=e.image)&&void 0!==n&&n.length?JSON.parse(null===e||void 0===e?void 0:e.image).map(e=>(0,N.jsx)("img",{src:e,height:200,style:{objectFit:"contain",width:"auto"}})):""}),null!==e&&void 0!==e&&e.options?null===(t=JSON.parse(null===e||void 0===e?void 0:e.options))||void 0===t?void 0:t.map((e,n)=>(0,N.jsxs)("small",{className:"text-dark lh-1 m-1 px-2",children:["\xa0",++n+") ","\xa0",e]},n)):"",(0,N.jsxs)("small",{className:"m-2 ",children:["Answer :",(1===(null===e||void 0===e?void 0:e.type)||5===(null===e||void 0===e?void 0:e.type))&&(0,N.jsx)("span",{className:"card shadow-sm bg-success text-light m-1 p-1 d-inline px-2",children:JSON.parse(null===e||void 0===e?void 0:e.ans)}),3===(null===e||void 0===e?void 0:e.type)&&JSON.parse(null===e||void 0===e?void 0:e.ans).map(e=>(0,N.jsx)("span",{className:"card m-1 p-1 d-inline shadow-sm bg-success text-light px-2",children:e},Math.random(3)))]})]},null===e||void 0===e?void 0:e.id)})}),(0,N.jsxs)(x.A,{size:"lg",show:!b,onHide:()=>k(!b),children:[(0,N.jsx)(x.A.Header,{children:"Create Question"}),(0,N.jsx)(x.A.Body,{children:(0,N.jsx)("form",{onSubmit:e=>{e.preventDefault(),F(e)},children:(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Question"}),(0,N.jsx)(f.A,{content:C,setContent:y}),(0,N.jsx)("hr",{}),(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-3",children:[(0,N.jsx)("h6",{children:"Image"}),(0,N.jsxs)("div",{className:"input-group justify-content-end",children:[Boolean(P.length)&&(0,N.jsx)("button",{type:"button",className:"btn btn-sm rounded-0 bg-primary fw-light text-white",onClick:()=>{let e=[...P];e.pop(),E(e)},children:"remove"}),(0,N.jsx)("button",{type:"button",className:"btn btn-sm rounded-0 bg-primary fw-light text-white",onClick:()=>E([...P,""]),children:"add image"})]})]}),null!==P&&void 0!==P&&P.length?P.map((e,n)=>(0,N.jsx)("input",{className:"form-control rounded-0 p-2 mb-1",value:P[n],onChange:e=>{let t=[...P];t[n]=e.target.value,E(t)}})):"",(0,N.jsx)("div",{className:" mt-2",children:(0,N.jsxs)(c.A,{children:[(0,N.jsx)(d.A,{id:"demo-row-radio-buttons-group-label text-dark",children:"Question Type"}),(0,N.jsxs)(u.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:w,onChange:e=>{S(e.target.value)},children:[(0,N.jsx)(i.A,{value:"1",control:(0,N.jsx)(h.A,{}),label:"MCQ"}),(0,N.jsx)(i.A,{value:"2",control:(0,N.jsx)(h.A,{}),label:"Written"}),(0,N.jsx)(i.A,{value:"3",control:(0,N.jsx)(h.A,{}),label:"Multiple-MCQ"}),(0,N.jsx)(i.A,{value:"4",control:(0,N.jsx)(h.A,{}),label:"Sample - MCQ "}),(0,N.jsx)(i.A,{value:"5",control:(0,N.jsx)(h.A,{}),label:"Image MCQ"})]})]})}),(0,N.jsxs)("div",{hidden:2==w,children:[(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[(0,N.jsx)("h6",{children:"Options"}),(0,N.jsxs)("div",{className:"input-group justify-content-end",children:[(0,N.jsx)("button",{className:"p-1 px-3 btn btn-sm rounded-0 btn-outline-dark",onClick:()=>{I(O-1),delete q[O]},disabled:2==O,children:"-"}),(0,N.jsx)("button",{className:"p-1 px-3 btn btn-sm rounded-0 btn-outline-dark",onClick:()=>{I(O+1)},disabled:20==O,children:"+"})]})]}),(0,N.jsx)("div",{className:"row row-cols-1 g-2",children:T})]}),(0,N.jsx)(a.A,{type:"submit",className:"text-center rounded-0 p-3 mt-2",fullWidth:!0,color:"success",variant:"contained",disabled:R,children:"Add"})]})})})]})]})}},96621:(e,n,t)=>{t.d(n,{A:()=>r});t(65043);var s=t(77977),o=t(58345),l=t.n(o),i=t(70579);const r=e=>{let{content:n,setContent:t}=e;return(0,i.jsx)("div",{children:(0,i.jsx)(s.CKEditor,{editor:l(),data:n||"",onChange:(e,n)=>{const s=n.getData();t(s)}})})}}}]);
//# sourceMappingURL=8859.2f744e5b.chunk.js.map