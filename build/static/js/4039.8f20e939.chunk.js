"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[4039],{44039:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var l=a(89379),s=a(45543),n=a(20648),i=a(65324),o=a(65043),c=a(73216),r=a(96621),d=a(70579);const m=function(){let e=(0,c.g)();console.log(e.id);let t=e.id,[a,m]=(0,o.useState)(""),[h,u]=(0,o.useState)();(0,o.useEffect)(()=>{(async()=>{try{const n=await s.TR.get("admin/blogs/edit/".concat(e.id));var t,a,l;200==n.status&&(m(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.result),u(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.result)||void 0===l?void 0:l.content))}catch(n){(0,i.z)("error",n.response.data.message)}})()},[]);const g=(0,n.Wx)({initialValues:{title:a.title?a.title:"",heading:a.heading?a.heading:"",content:a.content?a.content:"",img:"",bgimg:"",author:a.author?a.author:""},enableReinitialize:!0,onSubmit:async(e,a)=>{(0,i.z)("loading");const n=(0,l.A)((0,l.A)({},e),{},{content:h,id:t});try{const e=await s.DX.put("admin/blogs",n);200!=e.status&&1!=(null===e||void 0===e?void 0:e.success)||((0,i.z)("success","updated Successfully",void 0,1500),window.history.back())}catch(o){(0,i.z)("error",o.response.data.message)}}});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h4",{children:"Edit Blog"}),(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:g.handleSubmit,children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,d.jsx)("input",{type:"text",className:"form-control",id:"title",value:g.values.title,name:"title","aria-describedby":"title",onChange:g.handleChange})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"heading",className:"form-label",children:"Description"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"heading",value:g.values.heading,id:"heading",onChange:g.handleChange})]}),(0,d.jsx)("label",{htmlFor:"img",className:"form-label",children:"Image"}),(0,d.jsxs)("div",{className:"mb-3 d-flex justify-content-around",children:[(0,d.jsx)("img",{className:"me-2",src:a.img,width:"200"}),(0,d.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",className:"form-control pt-3",name:"files[]",id:"img",onChange:e=>{e.target.files.length&&g.setFieldValue("img",e.target.files[0])}})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"author",className:"form-label",children:"Author"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"author",value:g.values.author,id:"author",onChange:g.handleChange})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"Content",className:"form-label",children:"Content"}),(0,d.jsx)(r.A,{setContent:u,content:h})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})}},96621:(e,t,a)=>{a.d(t,{A:()=>o});a(65043);var l=a(77977),s=a(58345),n=a.n(s),i=a(70579);const o=e=>{let{content:t,setContent:a}=e;return(0,i.jsx)("div",{children:(0,i.jsx)(l.CKEditor,{editor:n(),data:t||"",onChange:(e,t)=>{const l=t.getData();a(l)}})})}}}]);
//# sourceMappingURL=4039.8f20e939.chunk.js.map