"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[22,1607],{1607:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var a=l(89379),t=l(20648),i=l(72557),d=l(65043),n=l(73216),o=l(45543),c=l(63471),r=l(65324),u=l(47503),h=l(7121),m=l(42518),v=l(67784),x=l(81045),j=l(4598),p=l(87332),b=l(90948),g=l.n(b),f=l(71080),N=l(96621),C=l(70579);const y=function(){var e,s,l,b,y,A,w,k,S;let[z,W]=(0,d.useState)([]),[I,_]=(0,d.useState)(""),[L,D]=(0,d.useState)("");const[R,F]=(0,d.useState)(""),[E,B]=(0,d.useState)(""),[T,P]=(0,d.useState)(""),[V,U]=(0,d.useState)(!1),[X,q]=(0,d.useState)(null);let[O,M]=(0,d.useState)(0),[Q,Y]=(0,d.useState)([]),[H,Z]=(0,d.useState)([]);const[G,K]=(0,d.useState)("");let J=null===(e=(0,n.g)())||void 0===e?void 0:e.id,$=(0,n.Zp)();const{ErrorResponder:ee}=(0,f.A)(),se=(0,t.Wx)({initialValues:{title:"",description:"",status:"active",courseId:"",order:""},onSubmit:async(e,s)=>{u.oR.loading("loading...");const l=(0,a.A)((0,a.A)({},e),{},{courseId:J,desc:G});try{console.log(l);const e=await o.hr.post("admin/course/section",l);var t,i,d,n;if(200===e.status)console.log("Done Form Filled"),console.log(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.result)||void 0===i?void 0:i.id),u.oR.dismiss(),(0,u.oR)("Section Added Successfully"),$("videos/".concat(null===e||void 0===e||null===(d=e.data)||void 0===d||null===(n=d.result)||void 0===n?void 0:n.id))}catch(c){console.log(c),(0,r.g)("Error "+c)}}});(0,d.useEffect)(()=>{K(null===H||void 0===H?void 0:H.desc)},[H]);const le=(0,t.Wx)({initialValues:{course_name:null===H||void 0===H?void 0:H.course_name,slug:null===H||void 0===H?void 0:H.slug,status:null===H||void 0===H?void 0:H.status,thumbnail:null===H||void 0===H?void 0:H.thumbnail,author:null===H||void 0===H?void 0:H.author,duration:null===H||void 0===H?void 0:H.duration,level:null===H||void 0===H?void 0:H.level,role:null===H||void 0===H?void 0:H.role,category:null===H||void 0===H?void 0:H.category,video:null===H||void 0===H?void 0:H.video},enableReinitialize:!0,onSubmit:async(e,s)=>{u.oR.loading("loading...");const l=(0,a.A)((0,a.A)({},e),{},{desc:G,brief:I,content:L,overview:R,whatYouWillLearn:E,whoIsItFor:T,slug:g()(le.values.course_name).toLowerCase(),id:J});try{console.log("data",l);200===(await o.DX.put("admin/course",l)).status&&(u.oR.dismiss(),u.oR.success("Course Updated Successfully"),M(O+1))}catch(t){ee(t)}}}),ae=(0,t.Wx)({initialValues:{certificate:""},onSubmit:async(e,s)=>{let l=(0,a.A)((0,a.A)({},e),{},{id:J});try{console.log("certificate",l);200===(await o.DX.put("admin/course/certificate",l)).status&&u.oR.success("Uploaded Successfully")}catch(t){console.log(t),u.oR.error("Something Went Wrong")}}});return(0,d.useEffect)(()=>{(async()=>{try{const s=await o.DX.get("admin/course/section?id="+J);var e;200===s.status&&W(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.result)}catch(s){}})(),(async()=>{try{const m=await o.DX.get("admin/courseId?id="+J);var e,s,l,a,t,i,d,n,c,r,u,h;200===m.status&&(console.log(null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.result),Z(null===m||void 0===m||null===(s=m.data)||void 0===s?void 0:s.result),_(null===m||void 0===m||null===(l=m.data)||void 0===l||null===(a=l.result)||void 0===a?void 0:a.brief),D(null===m||void 0===m||null===(t=m.data)||void 0===t||null===(i=t.result)||void 0===i?void 0:i.content),F(null===m||void 0===m||null===(d=m.data)||void 0===d||null===(n=d.result)||void 0===n?void 0:n.overview),B(null===m||void 0===m||null===(c=m.data)||void 0===c||null===(r=c.result)||void 0===r?void 0:r.whatYouWillLearn),P(null===m||void 0===m||null===(u=m.data)||void 0===u||null===(h=u.result)||void 0===h?void 0:h.whoIsItFor))}catch(m){console.log(m)}})()},[]),(0,C.jsxs)("div",{className:"container",children:[(0,C.jsx)(m.A,{onClick:()=>window.history.back(),startIcon:(0,C.jsx)(p.A,{}),children:"Go Back"}),(0,C.jsxs)("div",{className:"shadow-sm p-3 p-lg-4 rounded-4",children:[(0,C.jsx)("h3",{className:" text-capitalize",children:"Edit Course "}),(0,C.jsx)("form",{onSubmit:le.handleSubmit,children:(0,C.jsxs)("div",{className:"row g-3 mt-3",children:[(0,C.jsx)("div",{className:"col-12 col-lg-6",children:(0,C.jsx)(v.A,{fullWidth:!0,required:!0,id:"course_name",name:"course_name",label:"Course Name",type:"text",InputLabelProps:{shrink:!0},value:le.values.course_name,onChange:le.handleChange})}),(0,C.jsx)("div",{className:"col-12 col-lg-6",children:(0,C.jsx)(v.A,{fullWidth:!0,disabled:!0,id:"slug",name:"slug",label:"Slug",type:"text",InputLabelProps:{shrink:!0},value:g()(null!==(s=le.values.course_name)&&void 0!==s?s:"").toLowerCase(),onChange:le.handleChange,InputProps:{readOnly:!0},helperText:"Slug is auto generated and not editable"})}),(0,C.jsxs)("div",{className:"col-12",children:[(0,C.jsx)("small",{children:"Description"}),(0,C.jsx)(N.A,{setContent:K,content:G})]}),(0,C.jsx)("div",{className:"col-lg-6",children:(0,C.jsxs)("div",{className:"d-flex",children:[(0,C.jsx)(x.A,{className:"me-2",variant:"rounded",sx:{width:56,height:56},alt:"thumbnail",src:le.values.thumbnail}),(0,C.jsx)(v.A,{fullWidth:!0,id:"thumbnail",label:"Thumbnail",type:"file",name:"thumbnail",InputLabelProps:{shrink:!0},onChange:e=>{e.target.files.length&&le.setFieldValue("thumbnail",e.target.files[0])}})]})}),(0,C.jsx)("div",{className:"col-lg-6",children:(0,C.jsx)(v.A,{id:"duration",name:"duration",fullWidth:!0,label:"Course Duration (in format 1hr 2min 10sec)",value:null===le||void 0===le||null===(l=le.values)||void 0===l?void 0:l.duration,InputLabelProps:{shrink:!0},type:"text",onChange:le.handleChange})}),(0,C.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,C.jsx)("span",{className:"text-dark",children:"Course Level"}),(0,C.jsxs)("select",{value:null===le||void 0===le||null===(b=le.values)||void 0===b?void 0:b.level,onChange:le.handleChange,name:"level",id:"level",className:"form-select py-3",children:[(0,C.jsx)("option",{value:"",children:"click to select"}),(0,C.jsx)("option",{value:"beginners",children:"Beginners"}),(0,C.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,C.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,C.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,C.jsx)("span",{className:"text-dark",children:"This Course is for"}),(0,C.jsx)("input",{type:"text",className:"form-control",name:"role",id:"role",onChange:le.handleChange,value:le.values.role})]}),(0,C.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,C.jsx)("span",{className:"text-dark",children:"Course Category"}),(0,C.jsx)("input",{onChange:le.handleChange,value:le.values.category,name:"category",id:"category",className:"form-control py-3 px-2"})]}),(0,C.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,C.jsx)("span",{className:"text-dark",children:"Course Author"}),(0,C.jsx)(v.A,{id:"author",fullWidth:!0,name:"author",value:le.values.author,type:"text",onChange:le.handleChange})]}),(0,C.jsx)("div",{className:"col-12 position-relative col-lg-6",children:(0,C.jsx)(v.A,{fullWidth:!0,id:"video",label:"Preview Youtube Video Code",type:"text",name:"video",InputLabelProps:{shrink:!0},onChange:le.handleChange})}),(0,C.jsx)("div",{className:"col-12 col-lg-6",children:(0,C.jsxs)("div",{class:"form-check form-switch p-0",children:[(0,C.jsx)("label",{class:"form-check-label fs-6 text-dark",htmlfor:"status",children:"Course Status"}),(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,C.jsx)(j.A,{color:"success",id:"status",value:null===le||void 0===le||null===(y=le.values)||void 0===y?void 0:y.status,className:"text-start ",onClick:()=>{var e;null===le||void 0===le||le.setFieldValue("status","active"===(null===le||void 0===le||null===(e=le.values)||void 0===e?void 0:e.status)?"inactive":"active")},checked:"active"===(null===le||void 0===le||null===(A=le.values)||void 0===A?void 0:A.status)}),(0,C.jsxs)("span",{className:"fs-6 text-center text-capitalize  bg-opacity-25 border rounded-pill px-3\n                        ".concat("active"===(null===le||void 0===le||null===(w=le.values)||void 0===w?void 0:w.status)?"text-success bg-success border-success":"text-danger bg-danger border-danger"," "),children:[" ",null===le||void 0===le||null===(k=le.values)||void 0===k?void 0:k.status]})]})]})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("small",{children:"Course Brief"}),(0,C.jsx)(N.A,{content:I,setContent:_})]})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("small",{children:"Course Content"}),(0,C.jsx)(N.A,{content:L,setContent:D})]})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("small",{children:"Overview"}),(0,C.jsx)(N.A,{content:R,setContent:F})]})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("small",{children:"What You Will Learn"}),(0,C.jsx)(N.A,{content:E,setContent:B})]})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("small",{children:"Who Is It For"}),(0,C.jsx)(N.A,{content:T,setContent:P})]})}),(0,C.jsx)("div",{className:"col-lg-6",children:(0,C.jsx)(m.A,{type:"submit",color:"success",variant:"contained",size:"large",fullWidth:!0,className:"py-3",children:"Submit"})})]})})]}),(0,C.jsx)("div",{className:"p-3 p-lg-4 shadow-sm rounded-4 mt-4",children:(0,C.jsxs)("div",{className:"row g-3",children:[(0,C.jsx)("div",{className:"col-12 col-lg-6",children:(0,C.jsx)("img",{class:"border w-100",src:null===H||void 0===H?void 0:H.certification_img})}),(0,C.jsx)("div",{className:"col-12 col-lg-6",children:(0,C.jsx)("div",{className:"h-100 p-3",children:(0,C.jsxs)("form",{onSubmit:ae.handleSubmit,children:[(0,C.jsx)("h3",{className:"",children:"Upload Certificate"}),(0,C.jsxs)("div",{className:"mt-3",children:[(0,C.jsx)(v.A,{fullWidth:!0,id:"certificate",label:"certificate",type:"file",name:"certificate",InputLabelProps:{shrink:!0},onChange:e=>{e.target.files.length&&ae.setFieldValue("certificate",e.target.files[0])}}),(0,C.jsx)(m.A,{fullWidth:!0,variant:"contained",type:"submit",color:"success",size:"large",className:"rounded mt-3 py-3",children:"Upload\xa0Certificate"})]})]})})})]})}),(0,C.jsx)("div",{class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,C.jsx)("div",{class:"modal-dialog modal-lg",children:(0,C.jsx)("div",{class:"modal-content",children:(0,C.jsxs)("form",{onSubmit:ae.handleSubmit,children:[(0,C.jsxs)("div",{class:"modal-header",children:[(0,C.jsx)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",children:"EDIT COURSE"}),(0,C.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,C.jsx)("div",{class:"modal-body",children:(0,C.jsxs)("div",{className:"container shadow p-3 bg-body-tertiary rounded",children:[(0,C.jsx)("p",{className:"text-center fs-1 my-4",children:" Upload Certificate "}),(0,C.jsx)("div",{className:"d-flex justify-content-center",children:(0,C.jsx)(v.A,{className:"col-5 my-3",fullWidth:!0,id:"certificate",label:"certificate",type:"file",name:"certificate",InputLabelProps:{shrink:!0},onChange:e=>{e.target.files.length&&ae.setFieldValue("certificate",e.target.files[0])}})})]})}),(0,C.jsxs)("div",{class:"modal-footer",children:[(0,C.jsx)("button",{class:"btn btn-success",type:"submit",children:"Upload"}),(0,C.jsx)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",children:"Close"})]})]})})})}),(0,C.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,C.jsx)("h4",{className:"",children:"Course Sections"}),(0,C.jsx)(m.A,{variant:"outlined",color:"primary",type:"button",className:"rounded","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Add\xa0New\xa0Section"})]}),(0,C.jsxs)("div",{className:"table-responsive border rounded mt-3",children:[(0,C.jsxs)("table",{className:"designed-table table table-borderless align-middle mb-0",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"bg-light",children:[(0,C.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Section\xa0Title"}),(0,C.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Description"}),(0,C.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Order"}),(0,C.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Status"}),(0,C.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",style:{width:100},children:"Action"})]})}),(0,C.jsx)("tbody",{children:null===z||void 0===z?void 0:z.map(e=>(0,C.jsxs)("tr",{className:"border-bottom",children:[(0,C.jsx)("td",{className:"p-2",width:50,children:null===e||void 0===e?void 0:e.title}),(0,C.jsx)("td",{className:"p-3 line-clamp",children:null===e||void 0===e?void 0:e.description}),(0,C.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.order}),(0,C.jsx)("td",{className:"p-3",style:{width:150},children:(0,C.jsx)("span",{className:"".concat("active"===e.status?"bg-success":"bg-danger"," p-1 px-3 rounded-pill text-white"),children:(null===e||void 0===e?void 0:e.status)||"inactive"})}),(0,C.jsxs)("td",{children:[(0,C.jsx)(m.A,{onClick:()=>{$("videos/".concat(null===e||void 0===e?void 0:e.id))},fullWidth:!0,variant:"outlined",color:"success",size:"small",startIcon:(0,C.jsx)(h.A,{}),children:"Edit"}),(0,C.jsx)(m.A,{className:"mt-1",fullWidth:!0,variant:"outlined",color:"error",size:"small",startIcon:(0,C.jsx)(c.A,{}),onClick:()=>{return s=e.id,q(s),void U(!0);var s},children:"Delete"})]})]},e.id))})]}),(0,C.jsxs)(i.A,{show:V,onHide:()=>U(!1),children:[(0,C.jsx)(i.A.Header,{closeButton:!0,children:(0,C.jsx)(i.A.Title,{children:"Confirm Deletion"})}),(0,C.jsx)(i.A.Body,{children:(0,C.jsx)("p",{children:"Are you sure you want to delete this video?"})}),(0,C.jsxs)(i.A.Footer,{children:[(0,C.jsx)(m.A,{variant:"outlined",color:"error",onClick:()=>U(!1),children:"Cancel"}),(0,C.jsx)(m.A,{variant:"contained",color:"success",onClick:async()=>{if(X)try{200===(await o.DX.delete("admin/delete/course-section/video/".concat(X))).status&&(r.g.success("Video deleted successfully!"),W(e=>e.filter(e=>e.id!==X)),q(null))}catch(e){r.g.warning("Error deleting video: "+e.message)}finally{U(!1)}},children:"Confirm"})]})]})]}),(0,C.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,C.jsx)("div",{class:"modal-dialog modal-lg",children:(0,C.jsxs)("div",{class:"modal-content",children:[(0,C.jsxs)("div",{class:"modal-header",children:[(0,C.jsx)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",children:"Add Section"}),(0,C.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,C.jsx)("div",{class:"modal-body",children:(0,C.jsxs)("form",{onSubmit:se.handleSubmit,autoComplete:"off",children:[(0,C.jsxs)("div",{className:"row row-cols-2 g-3",children:[(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(v.A,{fullWidth:!0,required:!0,id:"title",name:"title",label:"Section Title",type:"text",value:se.values.title,onChange:se.handleChange})}),(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(v.A,{fullWidth:!0,disabled:!0,id:"courseId",name:"courseId",label:"CourseId",type:"number",value:J,helperText:"CourseId is auto generated and not editable",onChange:se.handleChange})}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsx)(v.A,{fullWidth:!0,multiline:!0,rows:4,id:"description",label:"Description",type:"text",name:"description",value:se.values.description,onChange:se.handleChange})}),(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(v.A,{id:"order",fullWidth:!0,name:"order",label:"Order",value:se.values.order,type:"number",onChange:se.handleChange})}),(0,C.jsx)("div",{className:"col",children:(0,C.jsxs)("div",{class:"form-check form-switch p-0 ms-2",children:[(0,C.jsx)("label",{class:"form-check-label fs-6 text-dark",htmlfor:"status",children:"Course Status"}),(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,C.jsx)(j.A,{color:"success",id:"status",className:"text-start",onClick:()=>{se.setFieldValue("status","active"===se.values.status?"inactive":"active")},checked:"active"===se.values.status}),(0,C.jsxs)("span",{className:"fs-6 text-center text-capitalize bg-opacity-25 border rounded-pill px-3\n                        ".concat("active"===se.values.status?"text-success bg-success border-success":"text-danger bg-danger border-danger"," "),children:[" ",null===se||void 0===se||null===(S=se.values)||void 0===S?void 0:S.status," "]})]})]})})]}),(0,C.jsx)("div",{className:"col-12",children:(0,C.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,C.jsx)(m.A,{onClick:null===se||void 0===se?void 0:se.resetForm,"data-bs-dismiss":"modal","aria-label":"Close",color:"error",variant:"outlined",className:"py-2 px-4 rounded me-2",children:"Cancel"}),(0,C.jsx)(m.A,{type:"submit",color:"success","data-bs-dismiss":"modal",variant:"contained",className:"py-2 px-4 rounded",children:"Submit"})]})})]})})]})})})]})}},10022:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var a=l(89379),t=l(66734),i=l(70579);const d=(0,t.A)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"ModeEditOutline");var n=l(42518),o=l(81045),c=l(18483),r=l(67784),u=l(4598),h=l(45543),m=l(20648),v=l(65324),x=l(65043),j=l(73216),p=l(35475),b=l(47503),g=l(90948),f=l.n(g),N=(l(1607),l(85595));const C=function(){const e=(0,j.Zp)(),[s,l]=(0,x.useState)(),[t,d]=(0,x.useState)(!0),{token:o}=(0,N.SF)(),[c,u]=(0,x.useState)({title:"",duration:"",level:"Easy",passing_criteria:"",sectionId:"",desc:""});function m(){o&&h.DX.get("/course/quiz/fetch").then(e=>{l(null===e||void 0===e?void 0:e.data.result)}).catch(e=>{console.error(e)})}return(0,x.useEffect)(()=>{m()},[o]),(0,i.jsxs)("div",{className:"py-4",children:[(0,i.jsx)("h6",{children:"QuizControl"}),(0,i.jsxs)("div",{className:"position-relative",children:[(0,i.jsx)(n.A,{variant:"outlined",onClick:()=>{d(!t)},children:"Add Quiz"}),(0,i.jsxs)("div",{hidden:t,className:"card position-absolute shadow-lg border p-3 rounded-3",children:[(0,i.jsx)("span",{className:"position-absolute top-0 end-0 mx-2 fs-5",style:{cursor:"pointer"},onClick:()=>{d(!t)},children:" \u2716 "}),(0,i.jsx)("p",{children:"Create Quiz"}),(0,i.jsxs)("div",{hidden:t,className:"container",children:[(0,i.jsx)(r.A,{className:"my-2",size:"small",label:"Title",name:"title",fullWidth:!0,value:c.title,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{title:e.target.value}))}),(0,i.jsx)(r.A,{className:"my-2",maxRows:3,multiline:!0,size:"small",label:"Descriptions",name:"title",fullWidth:!0,value:c.desc,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{desc:e.target.value}))}),(0,i.jsx)(r.A,{type:"number",className:"my-2 px-1 w-50",size:"small",label:"Duration (Min)",name:"title",value:c.duration,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{duration:e.target.value}))}),(0,i.jsx)(r.A,{type:"number",className:"my-2 px-1 w-50",size:"small",label:"Passing Criteria (%)",name:"title",value:c.passing_criteria,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{passing_criteria:e.target.value}))}),(0,i.jsx)(r.A,{type:"number",className:"my-2 px-1 w-50",size:"small",label:"Section Id",name:"title",value:c.sectionId,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{sectionId:e.target.value}))}),(0,i.jsxs)("select",{className:"text-dark w-50 px-4 border-1 rounded-2 border-secondary p-2 m-2",value:c.level,onChange:e=>u(s=>(0,a.A)((0,a.A)({},s),{},{level:e.target.value})),defaultValue:"",children:[(0,i.jsx)("option",{children:"Easy"}),(0,i.jsx)("option",{children:"Medium"}),(0,i.jsx)("option",{children:"Hard"})]}),(0,i.jsx)(n.A,{className:"px-4 p-2",onClick:function(){c.title&&c.level&&c.duration,c.sectionId?(b.oR.loading("Creating Quiz."),h.hr.post("/course/quiz/create",c).then(e=>{200===e.data.status?(b.oR.dismiss(),b.oR.success("Quiz is Created!"),u({title:"",duration:"",level:"Easy",passing_criteria:"",sectionId:"",desc:""}),d(!t),m()):(b.oR.dismiss(),b.oR.warning("Something Went Wrong!"))}).catch(e=>{b.oR.dismiss(),console.error(e)})):b.oR.warning("All Fileds are required..")},variant:"outlined",children:"Create"})]})]})]}),(0,i.jsx)("div",{className:"mt-3",children:(0,i.jsxs)("table",{class:"table table-lg table-bordered overflow-scroll table-hover",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Quiz\xa0Id"}),(0,i.jsx)("th",{children:"Section\xa0Id"}),(0,i.jsx)("th",{children:"Title"}),(0,i.jsx)("th",{children:"desc"}),(0,i.jsx)("th",{children:"Duration(Min)"}),(0,i.jsx)("th",{children:"Level"}),(0,i.jsx)("th",{children:"Passing(%)"})]})}),(0,i.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(s=>(0,i.jsxs)("tr",{onClick:()=>{e("/admin/quiz/".concat(s.id),{state:s})},children:[(0,i.jsx)("td",{children:s.id}),(0,i.jsx)("td",{children:s.sectionId}),(0,i.jsx)("td",{children:s.title}),(0,i.jsx)("td",{children:s.desc}),(0,i.jsx)("td",{children:s.duration}),(0,i.jsx)("td",{children:s.level}),(0,i.jsx)("td",{children:s.passing_criteria})]}))})]})})]})};const y=function(){var e;let[s,l]=(0,x.useState)("active"),[t,g]=(0,x.useState)([]),[N,y]=(0,x.useState)(0),[A,w]=(0,x.useState)("");const[k,S]=(0,x.useState)(!1),[z,W]=(0,x.useState)(null),I=(0,j.Zp)(),_=(0,m.Wx)({initialValues:{course_name:"",slug:"",desc:"",status:"",thumbnail:"",author:"",course_duration:"",course_level:"",role:"",category:"",video:""},onSubmit:async(e,l)=>{b.oR.loading("loading...");const t=(0,a.A)((0,a.A)({},e),{},{status:s,slug:f()(_.values.course_name).toLowerCase()});try{console.log("data",t);const e=await h.DX.post("admin/course",t);var i,d,n,o;if(200===e.status)console.log("Done Form Filled"),console.log(e.data),b.oR.dismiss(),b.oR.success("Course Added Successfully"),w(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(d=i.result)||void 0===d?void 0:d.id),I("sections/".concat(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.result)||void 0===o?void 0:o.id))}catch(c){console.log(c),v.g.warning("Error "+c)}}});return(0,x.useEffect)(()=>{(async()=>{try{const s=await h.DX.get("admin/course");var e;200===s.status&&g(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.result)}catch(s){console.log(s)}})()},[N]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,i.jsx)("h3",{className:"fs-3",children:"Courses"}),(0,i.jsx)(n.A,{type:"button",variant:"outlined",color:"warning",className:"text-capitalize rounded","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Add\xa0New\xa0Course"})]}),(0,i.jsx)("div",{className:"table-responsive border rounded mt-3",children:(0,i.jsxs)("table",{className:"designed-table table table-borderless align-middle mb-0",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"bg-light ",children:[(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Thumbnail"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Course\xa0Name"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Level"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Course\xa0For"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Category"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Author"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:"Status"}),(0,i.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",style:{width:100},children:"Actions"})]})}),(0,i.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map(e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{className:"border-bottom",children:[(0,i.jsx)("td",{className:"p-2",width:50,children:(0,i.jsx)(o.A,{alt:e.course_name,src:null===e||void 0===e?void 0:e.thumbnail,className:"rounded-0 w-100",sx:{height:66,backgroundColor:"orange",objectFit:"contain"}})}),(0,i.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.course_name}),(0,i.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.level}),(0,i.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.role}),(0,i.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.category}),(0,i.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.author}),(0,i.jsx)("td",{className:"p-3",style:{width:150},children:(0,i.jsx)("span",{className:"".concat("active"==e.status?"bg-success":"bg-danger"," p-1 px-3 rounded-pill text-white"),children:null!==e&&void 0!==e&&e.status?e.status:"incative"})}),(0,i.jsxs)("td",{className:"",children:[(0,i.jsx)(c.A,{title:"Edit Course",children:(0,i.jsx)(p.N_,{to:"sections/".concat(null===e||void 0===e?void 0:e.id),children:(0,i.jsxs)(n.A,{fullwidth:!0,variant:"outlined",color:"success",size:"small",className:"fs-6 rounded w-100",children:[(0,i.jsx)(d,{className:"fs-5 text-success"}),"\xa0Edit"]})})}),(0,i.jsx)(c.A,{title:"Delete The Course"})]})]})}))})]})}),(0,i.jsx)(C,{}),(0,i.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,i.jsx)("div",{class:"modal-dialog modal-lg",children:(0,i.jsxs)("div",{class:"modal-content",children:[(0,i.jsxs)("div",{class:"modal-header",children:[(0,i.jsx)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",children:"Add Course"}),(0,i.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,i.jsx)("div",{class:"modal-body",children:(0,i.jsx)("form",{onSubmit:_.handleSubmit,autoComplete:"off",children:(0,i.jsxs)("div",{className:"row row-cols-2 g-3",children:[(0,i.jsx)("div",{className:"col",children:(0,i.jsx)(r.A,{fullWidth:!0,required:!0,id:"course_name",name:"course_name",label:"Course Name",type:"text",value:_.values.course_name,onChange:_.handleChange})}),(0,i.jsx)("div",{className:"col",children:(0,i.jsx)(r.A,{fullWidth:!0,disabled:!0,id:"slug",name:"slug",label:"Slug",type:"text",value:f()(_.values.course_name).toLowerCase(),helperText:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-danger",children:"Note*"})," Slug is auto generated and not editable"]}),onChange:_.handleChange})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(r.A,{fullWidth:!0,multiline:!0,rows:3,id:"desc",label:"Description",type:"text",name:"desc",value:_.values.desc,onChange:_.handleChange})}),(0,i.jsxs)("div",{className:"col-12",children:[(0,i.jsx)(r.A,{fullWidth:!0,id:"thumbnail",label:"Thumbnail",type:"file",name:"thumbnail",InputLabelProps:{shrink:!0},onChange:e=>{e.target.files.length&&_.setFieldValue("thumbnail",e.target.files[0])}}),(null===_||void 0===_?void 0:_.values.thumbnail)&&(0,i.jsx)("img",{src:null!==_&&void 0!==_&&_.values.thumbnail?URL.createObjectURL(null===_||void 0===_?void 0:_.values.thumbnail):"",alt:"",className:"w-100 mt-2",style:{height:200}})]}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(r.A,{fullWidth:!0,id:"video",label:"Preview Youtube Video Code",type:"text",name:"video",InputLabelProps:{shrink:!0},onChange:_.handleChange})}),(0,i.jsx)("div",{className:"col",children:(0,i.jsx)(r.A,{id:"author",name:"author",fullWidth:!0,label:"Author Name",value:_.values.author,type:"text",onChange:_.handleChange})}),(0,i.jsx)("div",{className:"col",children:(0,i.jsx)(r.A,{id:"course_duration",name:"course_duration",fullWidth:!0,label:"Course Duration (in format 1hr 2min 10sec)",value:null===_||void 0===_||null===(e=_.values)||void 0===e?void 0:e.course_duration,type:"text",onChange:_.handleChange})}),(0,i.jsxs)("div",{className:"col",children:[(0,i.jsx)("span",{className:"text-dark",children:"Course Level"}),(0,i.jsxs)("select",{value:_.values.course_level,onChange:_.handleChange,name:"course_level",id:"course_level",className:"form-select py-2",children:[(0,i.jsx)("option",{value:"beginners",children:"Beginners"}),(0,i.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,i.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,i.jsxs)("div",{className:"col",children:[(0,i.jsx)("span",{className:"text-dark",children:"This Course is for"}),(0,i.jsxs)("select",{onChange:_.handleChange,value:_.values.role,name:"role",id:"role",className:"form-select py-2",children:[(0,i.jsx)("option",{value:"student",children:"Student"}),(0,i.jsx)("option",{value:"teacher",children:"Teacher"}),(0,i.jsx)("option",{value:"parent",children:"Parent"})]})]}),(0,i.jsxs)("div",{className:"col",children:[(0,i.jsx)("span",{className:"text-dark",children:"Course Category"}),(0,i.jsxs)("select",{onChange:_.handleChange,value:_.values.category,name:"category",id:"category",className:"form-select py-2",children:[(0,i.jsx)("option",{value:"data science",children:"Data Science"}),(0,i.jsx)("option",{value:"web development",children:"Web Development"}),(0,i.jsx)("option",{value:"sexual abuse",children:"Sexual Abuse"}),(0,i.jsx)("option",{value:"child harrasment",children:"Child Harrasment"})]})]}),(0,i.jsx)("div",{className:"col",children:(0,i.jsxs)("div",{class:"form-check form-switch p-0 ms-2",children:[(0,i.jsx)("label",{class:"form-check-label fs-6 text-dark",htmlfor:"status",children:"Course Status"}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,i.jsx)(u.A,{color:"success",id:"status",className:"text-start ",onClick:()=>{l("active"===s?"inactive":"active")},defaultChecked:!0}),(0,i.jsxs)("span",{className:"fs-6 text-center text-capitalize  bg-opacity-25 border rounded-pill px-3\n                        ".concat("active"===s?"text-success bg-success border-success":"text-danger bg-danger border-danger"," "),children:[" ",s," "]})]})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(n.A,{onClick:null===_||void 0===_?void 0:_.resetForm,"data-bs-dismiss":"modal","aria-label":"Close",color:"error",variant:"outlined",className:"py-2 px-4 rounded me-2",children:"Cancel"}),(0,i.jsx)(n.A,{type:"submit",color:"success",variant:"contained","data-bs-dismiss":"modal",className:"py-2 px-4 rounded",children:"Submit"})]})})]})})})]})})})]})}},96621:(e,s,l)=>{l.d(s,{A:()=>n});l(65043);var a=l(77977),t=l(58345),i=l.n(t),d=l(70579);const n=e=>{let{content:s,setContent:l}=e;return(0,d.jsx)("div",{children:(0,d.jsx)(a.CKEditor,{editor:i(),data:s||"",onChange:(e,s)=>{const a=s.getData();l(a)}})})}}}]);
//# sourceMappingURL=22.5da1d182.chunk.js.map