"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[4959],{54959:(e,a,l)=>{l.r(a),l.d(a,{default:()=>r});var s=l(89379),t=l(65043),n=l(20648),i=l(45543),o=l(96621),c=l(70579);const r=()=>{let[e,a]=(0,t.useState)();const l=(0,n.Wx)({initialValues:{title:"",heading:"",content:"",img:"",bgimg:"",author:"",publish_date:""},onSubmit:async(a,l)=>{console.log("values: ",a,e);const t=(0,s.A)((0,s.A)({},a),{},{content:e});console.log(t);try{const e=await i.DX.post("admin/news",t);200!=e.status&&1!=(null===e||void 0===e?void 0:e.success)||window.history.back()}catch(n){console.log(n)}}});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:l.handleSubmit,children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"title",className:"form-label",children:"Title"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"title",value:l.values.title,name:"title","aria-describedby":"title",onChange:l.handleChange})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"heading",className:"form-label",children:"Description"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"heading",value:l.values.heading,id:"heading",onChange:l.handleChange})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"img",className:"form-label",children:"Image"}),(0,c.jsx)("input",{type:"file",className:"form-control  pt-3",accept:".png, .jpg, .jpeg",name:"files[]",id:"img",onChange:e=>{e.target.files.length&&l.setFieldValue("img",e.target.files[0])}})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"author",className:"form-label",children:"Author"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"author",value:l.values.author,id:"author",onChange:l.handleChange})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"publishDate",className:"form-label",children:"Publish Date"}),(0,c.jsx)("input",{type:"date",className:"form-control",name:"publish_date",value:l.values.publish_date,id:"publishDate",onChange:l.handleChange})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{for:"Content",className:"form-label",children:"Content"}),(0,c.jsx)(o.A,{content:e,setContent:a})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})}},96621:(e,a,l)=>{l.d(a,{A:()=>o});l(65043);var s=l(77977),t=l(58345),n=l.n(t),i=l(70579);const o=e=>{let{content:a,setContent:l}=e;return(0,i.jsx)("div",{children:(0,i.jsx)(s.CKEditor,{editor:n(),data:a||"",onChange:(e,a)=>{const s=a.getData();l(s)}})})}}}]);
//# sourceMappingURL=4959.101a8ceb.chunk.js.map