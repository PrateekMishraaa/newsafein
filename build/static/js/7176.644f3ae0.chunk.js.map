{"version":3,"file":"static/js/7176.644f3ae0.chunk.js","mappings":"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","sources":["pages/Admin/pages/websitecontent/EditNews.js","utils/CKEditor.jsx"],"sourcesContent":["import { apiAuth, apiJson } from \"api\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport MyCKEditor from \"utils/CKEditor\";\r\n\r\nfunction EditNews() {\r\n  let id = useParams();\r\n  console.log(id.id);\r\n  let idToSend = id.id;\r\n  let [newsData, setNewsData] = useState(\"\");\r\n\r\n  let [newsContent, setNewsContent] = useState();\r\n\r\n  const getNewsById = async () => {\r\n    console.log(\"Fetching Quites Data \");\r\n    try {\r\n      console.log(`admin/news/edit/${id.id}`);\r\n      const res = await apiJson.get(`admin/news/edit/${id.id}`);\r\n      console.log(res, id);\r\n      if (res.status == 200) {\r\n        console.log(\"All news Data: \", res.data.result);\r\n        setNewsData(res?.data?.result);\r\n        setNewsContent(res?.data?.result?.content);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"All News Error: \", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    console.log(newsData);\r\n    getNewsById();\r\n  }, []);\r\n\r\n  const Formik = useFormik({\r\n    initialValues: {\r\n      title: newsData.title ? newsData.title : \"\",\r\n      heading: newsData.heading ? newsData.heading : \"\",\r\n      content: newsData.content ? newsData.content : \"\",\r\n      img: \"\",\r\n      bgimg: \"\",\r\n      author: newsData.author ? newsData.author : \"\",\r\n    },\r\n    enableReinitialize: true,\r\n    onSubmit: async (values, action) => {\r\n      console.log(\"values: \", values, newsContent);\r\n      const data = { ...values, content: newsContent, id: idToSend };\r\n      console.log(data);\r\n      try {\r\n        const res = await apiAuth.put(\"admin/news\", data);\r\n        if (res.status == 200 || res?.success == 1) {\r\n          window.history.back();\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  });\r\n\r\n  const modules = {\r\n    toolbar: [\r\n      [{ font: [] }],\r\n      [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n      [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n      [{ color: [] }, { background: [] }],\r\n      [{ script: \"sub\" }, { script: \"super\" }],\r\n      [\"blockquote\", \"code-block\"],\r\n      [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n      [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\r\n      [\"clean\"],\r\n    ],\r\n  };\r\n  return (\r\n    <>\r\n      <h4>Edit News</h4>\r\n      <div>\r\n        <form onSubmit={Formik.handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"title\" className=\"form-label\">\r\n              Title\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              value={Formik.values.title}\r\n              name=\"title\"\r\n              aria-describedby=\"title\"\r\n              onChange={Formik.handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"heading\" className=\"form-label\">\r\n              Description\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"heading\" value={Formik.values.heading} id=\"heading\" onChange={Formik.handleChange} />\r\n          </div>\r\n          <label htmlFor=\"img\" className=\"form-label\">\r\n            Image\r\n          </label>\r\n          <div className=\"mb-3 d-flex justify-content-around\">\r\n            <img className=\"me-2\" src={newsData.img} width=\"200\" />\r\n            <input\r\n              type=\"file\"\r\n              accept=\".png, .jpg, .jpeg\"\r\n              className=\"form-control pt-3\"\r\n              name=\"files[]\"\r\n              id=\"img\"\r\n              onChange={(e) => {\r\n                if (e.target.files.length) {\r\n                  Formik.setFieldValue(\"img\", e.target.files[0]);\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {/* <div className=\"mb-3\">\r\n            <label htmlFor=\"bgimg\" className=\"form-label\">Background Image</label>\r\n            <input type=\"file\" className=\"form-control pt-3\" name='bgimg' value={Formik.values.bgimg} id=\"bgimg\" onChange={Formik.handleChange} />\r\n          </div> */}\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"author\" className=\"form-label\">\r\n              Author\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"author\" value={Formik.values.author} id=\"author\" onChange={Formik.handleChange} />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Content\" className=\"form-label\">\r\n              Content\r\n            </label>\r\n            <MyCKEditor\r\n              setContent={setNewsContent}\r\n              content={newsContent}\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditNews;\r\n","import React from 'react';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nconst MyCKEditor = ({ content, setContent }) => {\r\n    const handleEditorChange = (event, editor) => {\r\n        const data = editor.getData();\r\n        setContent(data);\r\n    };\r\n    return (\r\n        <div>\r\n            <CKEditor\r\n                editor={ClassicEditor}\r\n                data={content ? content : \"\"}\r\n                onChange={handleEditorChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyCKEditor;\r\n"],"names":["id","useParams","console","log","idToSend","newsData","setNewsData","useState","newsContent","setNewsContent","useEffect","async","concat","res","apiJson","get","_res$data","_res$data2","_res$data2$result","status","data","result","content","error","getNewsById","Formik","useFormik","initialValues","title","heading","img","bgimg","author","enableReinitialize","onSubmit","values","action","_objectSpread","apiAuth","put","success","window","history","back","err","_jsxs","_Fragment","children","_jsx","handleSubmit","className","htmlFor","type","value","name","onChange","handleChange","src","width","accept","e","target","files","length","setFieldValue","MyCKEditor","setContent","_ref","CKEditor","editor","ClassicEditor","handleEditorChange","event","getData"],"sourceRoot":""}