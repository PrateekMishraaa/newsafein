"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[3032],{10463:(e,s,a)=>{a.d(s,{A:()=>t});a(65043);var l=a(70579);const t=e=>{let{text:s}=e;return(0,l.jsxs)("div",{className:"h-100",children:[(0,l.jsx)("img",{src:"/images/gif/Nodata.jpg",alt:"",className:"w-100",style:{maxHeight:"400px",objectFit:"contain"}}),(0,l.jsx)("h6",{className:"text-center text-body-emphasis fs-4",children:s})]})}},33032:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var l=a(89379),t=a(81045),i=a(45543),n=a(85595),c=(a(55515),a(10463)),r=a(71080),o=a(86178),d=a.n(o),h=a(65043),u=a(73216),m=a(47503),x=a(90131),v=a(70579);const p=["Course","Title","Full Name","Enrollment Date"],j=()=>{const[e,s]=(0,h.useState)([]),{token:a}=(0,n.SF)(),{ErrorResponder:o}=(0,r.A)(),{role:j}=(0,u.g)(),[g,b]=(0,h.useState)({search:"",sort:"recent"}),[N,f]=(0,h.useState)(1),[k,A]=(0,h.useState)(0),w=async()=>{var e,l;if(a)try{var t,n;const c=await i.DX.get("/institute/enrollments?role=".concat(j,"&search=").concat(g.search,"&sort=").concat(g.sort,"&page=").concat(N),{headers:{Authorization:a}});switch("success"===(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.status)&&A(c.data.totalPages),null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.status){case"success":s(c.data.result);break;case"warning":m.oR.warning(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.message);break;case"error":m.oR.error(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)}}catch(c){o(c)}};return(0,h.useEffect)(()=>{w()},[j,g.sort,N]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.AD,{heading:"".concat(j," Enrollments")}),(0,v.jsx)("div",{className:"container py-4",children:e.length?(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"row mb-3",children:[(0,v.jsx)("div",{className:"col-12 col-md-8",children:(0,v.jsx)("div",{className:"d-flex input-group",children:(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)("input",{type:"text",className:"form-control",placeholder:"Write Course Name Here","aria-label":"Recipient's username","aria-describedby":"button-addon2",onChange:e=>b((0,l.A)((0,l.A)({},g),{},{search:e.target.value}))}),(0,v.jsx)("button",{className:"btn btn-primary",type:"button",id:"button-addon2",onClick:w,children:"Search"})]})})}),(0,v.jsx)("div",{className:"col-12 col-md-4",children:(0,v.jsxs)("select",{className:"form-select bg-white rounded h-100",value:g.sort,onChange:e=>b((0,l.A)((0,l.A)({},g),{},{sort:e.target.value})),children:[(0,v.jsx)("option",{value:"",disabled:!0,children:"Sort Courses"}),(0,v.jsx)("option",{value:"recent",children:"Recent"}),(0,v.jsx)("option",{value:"atoz",children:"A to Z"}),(0,v.jsx)("option",{value:"ztoa",children:"Z to A"})]})})]}),(0,v.jsx)("div",{className:"table-responsive border shadow-sm rounded-3",children:(0,v.jsxs)("table",{className:"table table-borderless table-striped table-light ",children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:p.map((e,s)=>(0,v.jsx)("th",{scope:"col",className:"fw-semibold text-capitalize p-3",children:e},s))})}),(0,v.jsx)("tbody",{children:e.map((e,s)=>(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{className:"p-2 p-relative",children:[(0,v.jsx)(t.A,{className:"rounded-1",alt:null===e||void 0===e?void 0:e.course_name,src:null===e||void 0===e?void 0:e.thumbnail,sx:{width:76,height:46}}),(0,v.jsx)(t.A,{alt:e.first_name,src:null===e||void 0===e?void 0:e.profile,sx:{width:26,height:26},style:{bottom:"0px",left:"0px",position:"absolute"}})]}),(0,v.jsx)("td",{className:"p-3",children:null===e||void 0===e?void 0:e.course_name}),(0,v.jsx)("td",{className:"p-3",children:(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name)}),(0,v.jsx)("td",{className:"p-3",children:d()(null===e||void 0===e?void 0:e.createdAt).calendar()})]},s))})]})}),(0,v.jsx)("nav",{"aria-label":"...",children:(0,v.jsxs)("ul",{className:"pagination mt-4",children:[(0,v.jsx)("li",{className:"page-item disabled",children:(0,v.jsx)("a",{className:"page-link",onClick:()=>{N>1&&f(N-1)},children:"Prev"})}),(()=>{const e=[];for(let s=1;s<=k;s++)e.push((0,v.jsx)("li",{className:"page-item ".concat(N===s?"active":""),"aria-current":N===s?"page":null,children:(0,v.jsx)("a",{className:"page-link",onClick:()=>f(s),children:s})},s));return e})(),(0,v.jsx)("li",{className:"page-item",children:(0,v.jsx)("a",{className:"page-link",onClick:()=>{N<k&&f(N+1)},children:"Next"})})]})})]}):(0,v.jsx)(c.A,{text:"No Enrollments Found!"})})]})}}}]);
//# sourceMappingURL=3032.292010cd.chunk.js.map