"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[6945],{13412:(e,l,s)=>{s.d(l,{A:()=>t});var n=s(66734),i=s(70579);const t=(0,n.A)([(0,i.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92z"},"1")],"EditTwoTone")},42744:(e,l,s)=>{var n=s(24994);l.A=void 0;var i=n(s(40039)),t=s(70579);l.A=(0,i.default)((0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article")},46945:(e,l,s)=>{s.r(l),s.d(l,{default:()=>C});var n=s(65043),i=s(89379),t=s(33464),a=s(13412),d=s(17392),o=s(67784),c=s(45543),r=s(20648),h=s(65324),u=s(30064),m=s.n(u),x=s(42744),v=s(35475),j=s(85595),g=s(59893),p=s(81045),f=s(14282),b=s(72557),A=s(70579);const y=()=>{const[e,l]=(0,n.useState)([]),{adminRoles:s,token:u}=(0,j.SF)();let[x,v]=(0,n.useState)(),[y,N]=(0,n.useState)(),[C,w]=(0,n.useState)(),[S,W]=(0,n.useState)(),[_,z]=(0,n.useState)(),[k,Y]=(0,n.useState)(),[F,H]=(0,n.useState)(0);const[B,V]=(0,n.useState)({add:!1,edit:!1});async function G(e,l,s){try{if("update"==e||"add"==e){200==(await c.DX.post("/admin/youthgallery?attr="+e,l)).status&&I()}else{const l=new FormData;l.append("id",s);200==(await c.DX.post("/admin/youthgallery?attr="+e,l)).status&&I()}}catch(n){(0,h.z)("error",n.response.data.message)}}const D=(0,r.Wx)({initialValues:{name:"",subinfo:"",order:"",content:""},onSubmit:async(e,l)=>{G("add",e),l.resetForm(),R("add")}}),E=(0,r.Wx)({initialValues:{name:y,subinfo:_,order:C,content:k,id:x},enableReinitialize:!0,onSubmit:async(e,l)=>{console.log("success","added",e.img),G("update",e),R("edit")}}),R=e=>{V("add"===e?(0,i.A)((0,i.A)({},B),{},{add:!B.add}):(0,i.A)((0,i.A)({},B),{},{edit:!B.edit}))},I=async()=>{try{const s=await c.hr.get("/content/youthgallery");var e;if(200===s.status)l(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.resources)}catch(i){var s,n;(0,h.z)("error",null===i||void 0===i||null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)}};return(0,n.useEffect)(()=>{u&&I()},[]),(0,A.jsxs)("div",{className:"conatiner",children:[(0,A.jsxs)("div",{class:"d-md-flex justify-content-between mb-3",children:[(0,A.jsx)("h5",{children:"Added Youths"}),(0,A.jsx)(f.A,{variant:"primary",size:"sm",onClick:()=>R("add"),children:"Add Youth Gallery"})]}),(0,A.jsx)("div",{className:"table-responsive border pb-0",children:(0,A.jsxs)("table",{className:"table designed-table mb-0 table-borderless",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"p-3 bg-light",children:[(0,A.jsx)("th",{scope:"col",children:"Profile"}),(0,A.jsx)("th",{scope:"col",children:"Name"}),(0,A.jsx)("th",{scope:"col",children:"Sub Info"}),(0,A.jsx)("th",{hidden:5===s(),scope:"col",children:"Actions"})]})}),(0,A.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((e,l)=>(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{scope:"row",children:(0,A.jsx)(p.A,{src:null===e||void 0===e?void 0:e.img,sx:{backgroundColor:"orange"},children:(0,A.jsx)(g.A,{})})}),(0,A.jsx)("td",{children:e.name}),(0,A.jsx)("td",{children:e.subinfo}),(0,A.jsxs)("td",{hidden:5===s(),children:[(0,A.jsx)(d.A,{hidden:3===s(),sx:{color:"tomato"},onClick:async()=>{m().fire({title:"Are you sure?",text:"You wanted to delete this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(l.isConfirmed)try{G("delete",void 0,null===e||void 0===e?void 0:e.id),m().fire({icon:"success"}),H(F+1)}catch(a){var s,n,i,t;m().fire({width:400,title:null!==a&&void 0!==a&&null!==(s=a.response)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.message?null===a||void 0===a||null===(i=a.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message:"Something Went Wrong Check  your Network Connection",icon:"error"})}})},children:(0,A.jsx)(t.A,{})}),(0,A.jsx)(d.A,{onClick:()=>{R("edit"),N(e.name),W(null===e||void 0===e?void 0:e.img),z(e.subinfo),Y(e.content),v(e.id),w(e.orderInt)},children:(0,A.jsx)(a.A,{})})]})]}))})]})}),(0,A.jsx)(b.A,{show:B.add,onHide:()=>R("add"),children:(0,A.jsx)("div",{hidden:!(1===s()),className:"col",children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(b.A.Header,{closeButton:!0,children:(0,A.jsx)("h5",{className:"text-center ml-3",children:"Add a youth to Youth Gallery"})}),(0,A.jsx)("form",{className:"mt-2 px-3",onSubmit:D.handleSubmit,children:(0,A.jsxs)("div",{className:"row gy-3",children:[(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"name",fullWidth:!0,label:"Youth Name",value:D.values.name,onChange:D.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"subinfo",fullWidth:!0,label:"Youth Information",value:D.values.subinfo,onChange:D.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(f.A,{size:"lg",variant:"outline",className:"w-100",children:(0,A.jsx)("input",{type:"file",name:"img",accept:".png, .jpg, .jpeg",id:"img",onClick:e=>{e.target.value=null},onChange:e=>{console.log("logged",e.target.files),e.target.files.length&&D.setFieldValue("img",e.target.files[0])}})})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{type:"text",name:"order",label:"Order",fullWidth:!0,value:D.values.order,onChange:D.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"content",label:"Content for the Youth",fullWidth:!0,multiline:!0,rows:4,value:D.values.content,onChange:D.handleChange})}),(0,A.jsx)("div",{className:"col-12 d-flex justify-content-center my-3",children:(0,A.jsx)(f.A,{className:"text-capitalize p-3",variant:"outline-success",type:"submit",size:"sm",children:"Add to Youth Gallery"})})]})})]})})}),(0,A.jsx)(b.A,{show:B.edit,onHide:()=>R("edit"),children:(0,A.jsx)("div",{hidden:!(1===s()),className:"col",children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(b.A.Header,{closeButton:!0,children:(0,A.jsx)("h5",{className:"text-center ml-3",children:"Edit a Youth Gallery"})}),(0,A.jsx)("form",{className:"mt-2 px-3",onSubmit:E.handleSubmit,children:(0,A.jsxs)("div",{className:"row gy-3",children:[(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"name",fullWidth:!0,label:"Youth Name",value:E.values.name,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"subinfo",fullWidth:!0,label:"Youth Information",value:E.values.subinfo,onChange:E.handleChange})}),(0,A.jsxs)("div",{className:"d-flex col-lg-12",children:[(0,A.jsx)("img",{className:"me-3",src:S,width:50,height:50}),(0,A.jsx)(o.A,{type:"file",accept:".png, .jpg, .jpeg",name:"files[]",fullWidth:!0,onClick:e=>{e.target.value=null},onChange:e=>{e.target.files.length&&E.setFieldValue("img",e.target.files[0])}})]}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{type:"text",name:"order",label:"Order",fullWidth:!0,value:E.values.order,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"content",label:"Content for the Youth",fullWidth:!0,multiline:!0,rows:4,value:E.values.content,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-12 d-flex justify-content-center my-3",children:(0,A.jsx)(f.A,{className:"text-capitalize p-3",variant:"outline-success",type:"submit",size:"sm",children:"Edit Youth Gallery"})})]})})]})})})]})},N=()=>{const[e,l]=(0,n.useState)([]),{token:s}=(0,j.SF)();let[u,g]=(0,n.useState)(0);const{adminRoles:p}=(0,j.SF)();let[N,C]=(0,n.useState)(),[w,S]=(0,n.useState)(),[W,_]=(0,n.useState)(),[z,k]=(0,n.useState)(),[Y,F]=(0,n.useState)(),[H,B]=(0,n.useState)();const[V,G]=(0,n.useState)({add:!1,edit:!1}),D=e=>{G("add"===e?(0,i.A)((0,i.A)({},V),{},{add:!V.add}):(0,i.A)((0,i.A)({},V),{},{edit:!V.edit}))};(0,n.useEffect)(()=>{s&&(async()=>{try{const e=await c.hr.get("/admin/content/resource-library");console.log(e),200===e.status&&l(e.data.result)}catch(e){(0,h.z)("error",e)}})()},[u]);const E=(0,r.Wx)({initialValues:{group_id:"",group_name:"",title:"",description:"",pdf:""},onSubmit:async(e,l)=>{console.log("success",e);const s=await c.DX.post("admin/content/resource-library",e);200!=s.status&&1!=(null===s||void 0===s?void 0:s.success)||(l.resetForm(),g(u+1),D("add")),l.resetForm()}}),R=(0,r.Wx)({initialValues:{group_id:w,group_name:W,title:z,description:Y,pdf:H},enableReinitialize:!0,onSubmit:async(e,l)=>{console.log("success",e);const s=await c.DX.put("/admin/content/resource-library/".concat(N),e);200!=s.status&&1!=(null===s||void 0===s?void 0:s.success)||(l.resetForm(),g(u+1),D("edit")),console.log("group_name",W)}});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:(0,A.jsx)(y,{})}),(0,A.jsx)("hr",{}),(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,A.jsx)("h5",{children:"Added Resources"}),(0,A.jsx)(f.A,{variant:"primary",size:"sm",onClick:()=>D("add"),children:"Add Youth Gallery"})]}),(0,A.jsx)("div",{className:"table-responsive border pb-0",children:(0,A.jsxs)("table",{className:"table designed-table mb-0 ",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"p-3 bg-light",children:[(0,A.jsx)("th",{scope:"col",children:"file"}),(0,A.jsx)("th",{scope:"col",children:"group_id"}),(0,A.jsx)("th",{scope:"col",children:"group_name"}),(0,A.jsx)("th",{scope:"col",children:"title"}),(0,A.jsx)("th",{scope:"col",children:"description"}),(0,A.jsx)("th",{scope:"col",children:"posted_at"}),(0,A.jsx)("th",{hidden:5===p(),scope:"col",children:"actions"})]})}),(0,A.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((e,l)=>(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{scope:"row",children:(0,A.jsx)(v.N_,{to:e.pdf,target:"_blank",children:(0,A.jsx)(x.A,{})})}),(0,A.jsx)("td",{children:null===e||void 0===e?void 0:e.group_id}),(0,A.jsx)("td",{children:null===e||void 0===e?void 0:e.group_name}),(0,A.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),(0,A.jsx)("td",{children:null===e||void 0===e?void 0:e.description}),(0,A.jsx)("td",{children:null===e||void 0===e?void 0:e.posted_at}),(0,A.jsxs)("td",{hidden:5===p(),children:[(0,A.jsx)(d.A,{hidden:3===p(),sx:{color:"tomato"},onClick:()=>{m().fire({title:"Are you sure?",text:"You wanted to delete this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(l.isConfirmed)try{200==(await c.DX.delete("/admin/content/resource-library/".concat(e.id))).status&&(m().fire({icon:"success"}),g(u+1))}catch(a){var s,n,i,t;m().fire({width:400,title:null!==a&&void 0!==a&&null!==(s=a.response)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.message?null===a||void 0===a||null===(i=a.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message:"Something Went Wrong Check  your Network Connection",icon:"error"})}})},children:(0,A.jsx)(t.A,{})}),(0,A.jsx)(d.A,{onClick:()=>{D("edit"),S(null===e||void 0===e?void 0:e.group_id),_(null===e||void 0===e?void 0:e.group_name),k(null===e||void 0===e?void 0:e.title),F(null===e||void 0===e?void 0:e.description),B(e.pdf),C(e.id)},children:(0,A.jsx)(a.A,{})})]})]}))})]})})]}),(0,A.jsx)(b.A,{show:V.add,onHide:()=>D("add"),children:(0,A.jsx)("div",{hidden:!(1===p()),className:"",children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(b.A.Header,{closeButton:!0,children:(0,A.jsx)("h5",{className:"text-center ml-3",children:"Add a Resource Library"})}),(0,A.jsx)("form",{onSubmit:E.handleSubmit,children:(0,A.jsxs)("div",{className:"row gy-3",children:[(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"group_id",fullWidth:!0,label:"Group Id",value:E.values.group_id,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"group_name",fullWidth:!0,label:"Group Name",value:E.values.group_name,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"title",fullWidth:!0,label:"title",value:E.values.title,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"description",fullWidth:!0,label:"Description",value:E.values.description,onChange:E.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{type:"file",accept:".png, .jpg, .jpeg",name:"pdf",fullWidth:!0,onChange:e=>{console.log(E.values),E.setFieldValue("pdf",e.target.files[0])}})}),(0,A.jsx)("div",{className:"col-12 d-flex justify-content-center my-3",children:(0,A.jsx)(f.A,{className:"text-capitalize p-3",variant:"outline-success",type:"submit",size:"sm",children:"Add Resources Library"})})]})})]})})}),(0,A.jsx)(b.A,{show:V.edit,onHide:()=>D("edit"),children:(0,A.jsx)("div",{className:"col",children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(b.A.Header,{closeButton:!0,children:(0,A.jsx)("h5",{className:"text-center",children:"Edit a Resource Library"})}),(0,A.jsx)("form",{onSubmit:R.handleSubmit,children:(0,A.jsxs)("div",{className:"row gy-3",children:[(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"group_id",fullWidth:!0,label:"Group Id",value:R.values.group_id,onChange:R.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"group_name",fullWidth:!0,label:"Group Name",value:R.values.group_name,onChange:R.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"title",fullWidth:!0,label:"title",value:R.values.title,onChange:R.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{name:"description",fullWidth:!0,label:"Description",value:R.values.description,onChange:R.handleChange})}),(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)(o.A,{type:"file",name:"pdf",fullWidth:!0,onChange:e=>{console.log(R.values),R.setFieldValue("pdf",e.target.files[0])}})}),(0,A.jsx)("div",{className:"col-12 d-flex justify-content-center my-3",children:(0,A.jsx)(f.A,{className:"text-capitalize p-3",variant:"outline-success",type:"submit",size:"sm",children:"Edit Youth Gallery"})})]})})]})})})]})})]})},C=()=>(0,A.jsxs)("div",{children:[(0,A.jsx)("h4",{children:"Edit or Add Website Content"}),(0,A.jsx)(N,{})]})},59893:(e,l,s)=>{s.d(l,{A:()=>t});var n=s(66734),i=s(70579);const t=(0,n.A)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}}]);
//# sourceMappingURL=6945.556a9807.chunk.js.map