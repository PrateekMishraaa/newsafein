"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[3776],{33776:(e,s,l)=>{l.r(s),l.d(s,{default:()=>c});var t=l(65043),a=l(73216),i=l(45543),o=l(85595),n=l(23768),d=l(70579);var r=l(65324);const c=()=>{var e,s;const[l,c]=(0,t.useState)({}),u=(0,a.Zp)(),[v,h]=(0,t.useState)([]),[m,b]=(0,t.useState)(!1),[x,p]=(0,t.useState)(!1),g=(0,a.g)(),{userData:j,token:w}=(0,o.SF)(),N=async()=>{let e={courseId:null===l||void 0===l?void 0:l.id,studentId:j.id};if(w)try{200==(await i.DX.post("/course/enroll",e,{headers:{Authorization:w}})).status&&(n.oR.dismiss(),u("/dashboard/courseview/".concat(e.courseId)))}catch(s){s&&(n.oR.dismiss(),409===s.response.status?((0,n.oR)(s.response.data.message?s.response.data.message:"Something went wrong check your network connection",{icon:"\ud83d\ude03",style:{borderRadius:"10px",background:"#333",color:"#fff"}}),u("/dashboard/courseview/".concat(e.courseId),{state:{tabId:"enrolled"}})):409!==s.response.status&&n.oR.error(s.response.data.message?s.response.data.message:"Something went wrong check your network connection"))}};function y(e){return{__html:e}}return(0,t.useEffect)(()=>{(async()=>{try{let t=await i.hr.get("/course/certificate/check?courseId=".concat(null===l||void 0===l?void 0:l.id,"&studentId=").concat(j.id));var e,s;console.log("=>>>>",t),200==t.status&&null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&null!==(s=e.result)&&void 0!==s&&s.checked&&p(!0)}catch(o){var t,a;(0,r.z)(null===o||void 0===o||null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)}})()},[l]),(0,t.useEffect)(()=>{(async()=>{try{var e,s;const t=await i.FH.get("course/checkIfUserAlreadyEnrolled/course/".concat(null===l||void 0===l?void 0:l.id,"/user/").concat(null===j||void 0===j?void 0:j.id));b(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.result),console.log("res.result",null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.result)}catch(t){n.oR.dismiss(),n.oR.error(t.message)}})()},[l]),(0,t.useEffect)(()=>{(async()=>{try{const a=await i.FH.get("/course/detail/".concat(g.slug));if(200==a.status){var e,s,l,t;c(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.course);const i=null===a||void 0===a||null===(s=a.data)||void 0===s||null===(l=s.course)||void 0===l||null===(t=l.role)||void 0===t?void 0:t.replaceAll(" ","");let o=(null===i||void 0===i?void 0:i.split(","))||[];h(o)}}catch(a){a&&(n.oR.dismiss(),n.oR.error(a.response.data.message?a.response.data.message:"Something went wrong check your network connection"))}})()},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"section bg-darkprime",children:(0,d.jsx)("div",{className:"container pb-5 pb-lg-0",style:{minHeight:250},children:(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-12 col-lg-8 py-0  order-2 order-lg-1 ",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-white fw-light heroSubHeading  mt-3",children:null===l||void 0===l?void 0:l.course_name}),v.map((e,s)=>(0,d.jsxs)("span",{className:"bg-green-grad px-4 py-2 rounded-pill text-white border border-3 shadow-sm fw-bold me-2 text-capitalize",children:[(0,d.jsx)("i",{className:"bi bi-person my-0"}),"\xa0\xa0",e]},s))]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("p",{className:"text-white fs-6",style:{textAlign:"justify"},children:(0,d.jsx)("div",{className:"quill-ls",dangerouslySetInnerHTML:y(null===l||void 0===l?void 0:l.desc)})})})]})})})}),(0,d.jsx)("section",{className:"detail",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-12 col-lg-8 order-2 order-lg-1",children:(0,d.jsxs)("div",{className:"py-3 pb-lg-4",children:[(0,d.jsxs)("ul",{className:"nav nav-pills-design-5 nav-pills",id:"myTab",role:"tablist",children:[(0,d.jsx)("li",{className:"nav-item px-0 ms-0",role:"presentation",children:(0,d.jsx)("button",{className:"nav-link active py-2 rounded-0",id:"overview-tab","data-bs-toggle":"tab","data-bs-target":"#overview",type:"button",role:"tab",children:"Overview"})}),(0,d.jsx)("li",{className:"nav-item ms-0",role:"presentation",children:(0,d.jsx)("button",{className:"nav-link",id:"what-you-will-learn-tab","data-bs-toggle":"tab","data-bs-target":"#what-you-will-learn",type:"button",role:"tab",children:"What you will learn?"})}),(0,d.jsx)("li",{className:"nav-item ms-0",role:"presentation",children:(0,d.jsx)("button",{className:"nav-link",id:"who-is-it-for-tab","data-bs-toggle":"tab","data-bs-target":"#who-is-it-for",type:"button",role:"tab",children:"Who is it for?"})})]}),(0,d.jsxs)("div",{className:"tab-content p-0",children:[(0,d.jsx)("div",{className:"tab-pane active",id:"overview",role:"tabpanel","aria-labelledby":"overview-tab",tabIndex:"0",children:(0,d.jsx)("div",{className:"py-4",children:(0,d.jsx)("div",{className:"quill-ls",dangerouslySetInnerHTML:y(null===l||void 0===l?void 0:l.overview)})})}),(0,d.jsx)("div",{className:"tab-pane p-0",id:"what-you-will-learn",role:"tabpanel","aria-labelledby":"what-you-will-learn-tab",tabIndex:"1",children:(0,d.jsx)("div",{className:"py-4",children:(0,d.jsx)("div",{className:"quill-ls",dangerouslySetInnerHTML:y(null===l||void 0===l?void 0:l.whatYouWillLearn)})})}),(0,d.jsx)("div",{className:"tab-pane p-0",id:"who-is-it-for",role:"tabpanel","aria-labelledby":"who-is-it-for-tab",tabIndex:"2",children:(0,d.jsx)("div",{className:"py-4",children:(0,d.jsx)("div",{className:"quill-ls",dangerouslySetInnerHTML:y(null===l||void 0===l?void 0:l.whoIsItFor)})})})]})]})}),(0,d.jsx)("div",{className:"col-12 col-lg-4 order-1 order-lg-2",children:(0,d.jsxs)("div",{className:"p-3 rounded-4 shadow-lg coursedetail-pagecard bg-white",children:[(0,d.jsx)("img",{src:null===l||void 0===l?void 0:l.thumbnail,alt:"",className:"w-100 rounded-3"}),(0,d.jsxs)("table",{className:"table-borderless table",children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Duration"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null===l||void 0===l?void 0:l.duration})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Mode"}),(0,d.jsx)("td",{className:"text-end pt-2",children:"Online"})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Author"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null===l||void 0===l?void 0:l.author})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Certification"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null!==l&&void 0!==l&&l.certification_img?"Yes":"No"})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Category"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null===l||void 0===l?void 0:l.category})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Course Level"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null===l||void 0===l?void 0:l.level})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"pt-2 font-weight-semebold",children:"Course For"}),(0,d.jsx)("td",{className:"text-end pt-2",children:null===l||void 0===l?void 0:l.role})]})]}),w?m&&x?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"row justify-content-around",children:[(0,d.jsx)("div",{className:" col-6 p-1 text-center",children:(0,d.jsx)("button",{className:"btn btn-primary w-100",onClick:N,children:"View Course"})}),(0,d.jsx)("div",{onClick:()=>u("/dashboard/certificate/"+(null===l||void 0===l?void 0:l.id)),className:" col-6 p-1 text-center",children:(0,d.jsx)("button",{className:"btn btn-success w-100",children:"Get Certificate"})})]})}):(0,d.jsx)("button",{className:"btn btn-primary py-3 rounded-3 btn-lg w-100 rounded-0 hover-ripple",onClick:N,disabled:!v.includes(j.role)||!(null!==l&&void 0!==l&&null!==(e=l.sections)&&void 0!==e&&e.length&&"active"===(null===l||void 0===l?void 0:l.status)),children:m?"Start Course":null!==l&&void 0!==l&&null!==(s=l.sections)&&void 0!==s&&s.length&&"active"===(null===l||void 0===l?void 0:l.status)?v.includes(j.role)?"Enroll Now":"Not Available For You!":"Coming Soon..\u23f3"}):(0,d.jsx)("button",{className:"btn btn-primary py-3 rounded-3 btn-lg w-100 rounded-0 hover-ripple",onClick:()=>{u("/login",{state:{nextRoute:"/course/detail/".concat(l.slug)}})},children:"Login to Enroll"})]})})]})})})]})}}}]);
//# sourceMappingURL=3776.8e7e4d11.chunk.js.map