{"version":3,"file":"static/js/1484.a52f735a.chunk.js","mappings":"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","sources":["pages/Admin/pages/websitecontent/News.js"],"sourcesContent":["import {apiAuth, apiJson} from \"api\";\r\nimport React, {useState} from \"react\";\r\nimport {useEffect} from \"react\";\r\nimport moment from \"moment\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport {useGlobalContext} from \"global/context\";\r\n\r\nconst News = () => {\r\n  const {adminRoles} = useGlobalContext()\r\n  let [newsData, setNewsData] = useState(\"\");\r\n  let [update, setUpdate] = useState();\r\n  const getAllNews = async () => {\r\n    console.log(\"Fetching Quites Data \");\r\n    try {\r\n      const res = await apiJson.get(\"admin/news\");\r\n      if (res.status == 200) {\r\n        console.log(\"All blogs Data: \", res.data.result);\r\n        setNewsData(res?.data?.result);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"All Quotes Error: \", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    console.log(newsData);\r\n    getAllNews();\r\n  }, [update]);\r\n\r\n  const handleDelete = async (id) => {\r\n    console.log(id);\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You wanted to delete this student!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then(async (result) => {\r\n      console.log(result);\r\n      if (result.isConfirmed) {\r\n        console.log(result);\r\n        try {\r\n          const res = await apiAuth.delete(\"admin/news?id=\" + id);\r\n          if (res.status == 200) {\r\n            Swal.fire({\r\n              title: res.data.message,\r\n              icon: \"success\",\r\n            });\r\n            setUpdate(update + 1);\r\n          }\r\n        } catch (error) {\r\n          Swal.fire({\r\n            width: 400,\r\n            title: error?.response?.data?.message\r\n              ? error?.response?.data?.message\r\n              : \"Something Went Wrong Check  your Network Connection\",\r\n            icon: \"error\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center justify-content-between mb-2\">\r\n        <h4>Manage News</h4>\r\n        <div hidden={!(adminRoles() === 1)}>\r\n          <NavLink to={\"/admin/news/add\"} className=\"btn rounded-3\">\r\n            Add News\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"table-responsive rounded-3\">\r\n          <table class=\"table table-striped table-hover\">\r\n            <thead className=\"table-dark\">\r\n              <tr>\r\n                <th scope=\"col\">img</th>\r\n                <th scope=\"col\">title</th>\r\n                <th scope=\"col\">slug</th>\r\n                <th scope=\"col\">heading</th>\r\n                <th scope=\"col\">content</th>\r\n                <th scope=\"col\">created_at</th>\r\n                <th hidden={adminRoles() === 5} scope=\"col\">actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {newsData[0] &&\r\n                newsData?.map((value, index) => {\r\n                  console.log(value);\r\n                  return (\r\n                    <>\r\n                      <tr>\r\n                        <td scope=\"col\">\r\n                          <img src={value?.img} alt=\"\" width={80} height={80} />\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          <span className=\"line-clamp\"> {value?.title}</span>\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          <span className=\"line-clamp\"> {value?.slug}</span>\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          {\" \"}\r\n                          <span className=\"line-clamp\"> {value?.heading}</span>\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          <span className=\"line-clamp\"> {value?.content}</span>\r\n                        </td>\r\n                        <td scope=\"col\">\r\n                          {moment(value?.created_at).fromNow()}\r\n                        </td>\r\n                        <NavLink\r\n                          hidden={adminRoles() === 5}\r\n                          to={`edit/${value.id}`}\r\n                          className=\"btn bg-success text-white btn-sm rounded w-100 my-1\"\r\n                        >\r\n                          Edit\r\n                        </NavLink>\r\n                        <button\r\n                          hidden={adminRoles() === 3 || adminRoles() === 5}\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            handleDelete(value?.id);\r\n                          }}\r\n                          className=\"btn bg-danger text-white btn-sm rounded w-100 my-1\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </tr>\r\n                    </>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"],"names":["News","adminRoles","useGlobalContext","newsData","setNewsData","useState","update","setUpdate","useEffect","console","log","async","res","apiJson","get","_res$data","status","data","result","error","getAllNews","_jsxs","_Fragment","children","className","_jsx","hidden","NavLink","to","class","scope","map","value","index","src","img","alt","width","height","title","slug","heading","content","moment","created_at","fromNow","concat","id","type","onClick","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","isConfirmed","apiAuth","delete","message","_error$response","_error$response$data","_error$response2","_error$response2$data","response","handleDelete"],"sourceRoot":""}