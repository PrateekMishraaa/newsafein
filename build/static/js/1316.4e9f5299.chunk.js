"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[1316],{51316:(e,s,l)=>{l.r(s),l.d(s,{default:()=>k});var t=l(89379),n=l(65043),a=l(78923),i=l(81e3),o=l(39948),r=l(42518),d=l(28739),c=l(53193),u=l(57972),x=l(59182),h=l(14256),v=l(85865),j=l(39336),m=l(11597),g=(l(45572),l(29749),l(14599)),A=l(45543),w=l(70579);const f=e=>{let{question:s,getQuestions:l}=e;const[t,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)();return(0,n.useEffect)(()=>{(async()=>{try{const l=await A.e_.get("/v1/api/answer?id=".concat(null===s||void 0===s?void 0:s.id));var e;200===l.status&&o(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.results)}catch(l){}})()},[]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"rounded-4 border mb-3 shadow-sm",children:(0,w.jsx)(g.A,{showAnswerHandler:()=>{a(!t)},showAnswer:t,question:s,className:"border rounded-4",getQuestions:l,isAnswered:null===i||void 0===i?void 0:i.length})})})};var p=l(72812),N=l(46074),b=l(73216),y=l(35475);const k=()=>{const[e,{loading:s,questions:l,pageHeading:g,stats:k,setSort:C,filterCount:F,handleShowFilterBox:z,showFilterBox:S,sortAndFilter:Q,setSortAndFilter:q,setFilter:_,setShowFilterBox:B,setPage:L,setPageHeading:M,getQuestions:E,showLoadBtn:H,setLoadMore:I,sort:P,filter:O,page:T,limit:U,offset:D,setQuestions:R,loadMore:V,handleClickOpen:W,setShowLoadBtn:K}]=(0,b.KC)(),[G,J]=n.useState(!1);return(0,w.jsxs)(w.Fragment,{children:[s?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.A,{}),(0,w.jsx)(a.A,{}),(0,w.jsx)(a.A,{})]}):null!==l&&void 0!==l&&l.length?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{}),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsxs)("div",{className:"row align-items-center ",children:[(0,w.jsxs)("div",{className:"col",children:[(0,w.jsx)("h4",{children:g}),(0,w.jsxs)("span",{className:"fst-italic",style:{fontSize:"12px"},children:["Today: ",null===k||void 0===k?void 0:k.today," | Total: ",null===k||void 0===k?void 0:k.total," | Unanswered: ",null===k||void 0===k?void 0:k.unanswered]})]}),(0,w.jsx)("div",{className:"col ",children:(0,w.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",flexDirection:"row",alignItems:"center",justifyContent:"end","& > *":{m:1}},children:[(0,w.jsxs)(o.A,{size:"small","aria-label":"small button group",children:[(0,w.jsx)(r.A,{className:"text-capitalize",onClick:()=>{C("newest")},children:"Newest"},"one"),(0,w.jsx)(r.A,{className:"text-capitalize",onClick:()=>{C("unanswered")},children:"Unanswered"},"two"),(0,w.jsx)(r.A,{className:"text-capitalize",onClick:()=>{C("popular")},children:"Popular"},"three")]}),(0,w.jsx)(d.A,{badgeContent:F,color:"primary",children:(0,w.jsx)(r.A,{size:"small",className:"text-capitalize",variant:"outlined",onClick:z,startIcon:(0,w.jsx)(m.A,{}),children:"Filter"})})]})})]}),(0,w.jsx)("div",{className:"container",children:(0,w.jsxs)("div",{className:"row border rounded-3 p-3 ".concat(S?"":"d-none"),children:[(0,w.jsxs)("div",{className:"row",children:[(0,w.jsxs)("div",{className:"col-lg-4",children:[(0,w.jsx)("h6",{children:"Filter by"}),(0,w.jsx)(c.A,{children:(0,w.jsxs)(u.A,{"aria-labelledby":"filters-radio-label",name:"filters-radio",defaultValue:null===Q||void 0===Q?void 0:Q.filter,onChange:e=>{q((0,t.A)((0,t.A)({},Q),{},{filter:e.target.value}))},children:[(0,w.jsx)(x.A,{value:"unanswered",control:(0,w.jsx)(h.A,{}),label:"Unanswered"}),(0,w.jsx)(x.A,{value:"answered",control:(0,w.jsx)(h.A,{}),label:"Answered"})]})})]}),(0,w.jsxs)("div",{className:"col-lg-4",children:[(0,w.jsx)("h6",{children:"Sorted by"}),(0,w.jsx)(c.A,{children:(0,w.jsxs)(u.A,{"aria-labelledby":"sorting-radio-label",name:"sorting-radio",defaultValue:null===Q||void 0===Q?void 0:Q.sort,onChange:e=>{q((0,t.A)((0,t.A)({},Q),{},{sort:e.target.value}))},children:[(0,w.jsx)(x.A,{value:"newest",control:(0,w.jsx)(h.A,{}),label:"Newest"}),(0,w.jsx)(x.A,{value:"recent-activity",control:(0,w.jsx)(h.A,{}),label:"Recent activity"}),(0,w.jsx)(x.A,{value:"highest-votes",control:(0,w.jsx)(h.A,{}),label:"Highest votes"}),(0,w.jsx)(x.A,{value:"most-frequent",control:(0,w.jsx)(h.A,{}),label:"Most frequent"})]})})]}),(0,w.jsxs)("div",{className:"col-lg-4",children:[(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsx)("h5",{children:"Still Confused?"}),(0,w.jsx)("h6",{children:"Don't worry! Our topic experts are waiting for you. Try EkSathi Now!"}),(0,w.jsx)(y.N_,{to:"https://www.eksathi.com",target:"_blank",children:(0,w.jsx)(r.A,{className:"rounded-3 text-capitalize",variant:"outlined",color:"info",children:"Connect to Expert"})})]}),(0,w.jsxs)(v.A,{varient:"subtitle2",gutterBottom:!0,color:"grey",children:["Powered By ",(0,w.jsx)(y.N_,{to:"https://www.eksathi.com",target:"_blank",className:"text-info",children:"EkSathi"})]})]})]}),(0,w.jsx)(j.A,{className:"my-3"}),(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col",children:(0,w.jsx)(r.A,{variant:"outlined",color:"success",className:"text-capitalize rounded-3",onClick:()=>{console.log(Q),null!==Q&&void 0!==Q&&Q.sort&&C(null===Q||void 0===Q?void 0:Q.sort),null!==Q&&void 0!==Q&&Q.filter&&_(null===Q||void 0===Q?void 0:Q.filter),B(!1)},children:"Apply"})}),(0,w.jsxs)("div",{className:"col d-flex justify-content-start justify-content-lg-end mt-2 mt-lg-0",children:[(0,w.jsx)(r.A,{variant:"outlined",className:"text-capitalize mx-3 rounded-3",onClick:()=>{q((0,t.A)((0,t.A)({},Q),{},{sort:"",filter:""})),C(""),_(""),L(1),B(!1),M("Recent Questions")},children:"Clear Filters"}),(0,w.jsx)(r.A,{variant:"outlined",className:"text-capitalize rounded-3",color:"error",onClick:()=>B(!1),children:"Cancel"})]})]})]})})]}),null===l||void 0===l?void 0:l.map((e,s)=>(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(f,{question:e,getQuestions:E},s)})),(0,w.jsx)("div",{className:"d-flex justify-content-center mb-3 ".concat(H?"":"d-none"),children:(0,w.jsx)(p.A,{onClick:async()=>{I(!0);try{const n=await A.e_.get("/v1/api/query?sort=".concat(P,"&filter=").concat(O,"&page=").concat(T+1,"&limit=").concat(U,"&offset=").concat(D));var e,s;if(200===n.status)if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&null!==(s=e.results)&&void 0!==s&&s.length){var t;let e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.results;R(l.concat(e)),console.log("Loaded More Questions: ",l),I(!1),L(T+1)}else I(!1),K(!1),L(1)}catch(i){var n,a;console.log(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)}},loading:V,loadingIndicator:"Loading\u2026",variant:"outlined",className:"text-capitalize fw-bold",children:(0,w.jsx)("span",{children:"Load More"})})})]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:[(0,w.jsx)("img",{src:"/images/questionnotfound.jpg",alt:"",className:"w-100",style:{maxWidth:"400px",objectFit:"contain"}}),(0,w.jsx)("h3",{children:"No Questions Found"}),(0,w.jsx)("p",{children:"It seems like nobody asked yet, but you can ask now!"}),(0,w.jsx)(r.A,{varient:"outlined",className:"border text-capitalize fs-5 px-4 rounded-3",size:"large",color:"success",onClick:W,children:"Ask Question Now"})]})}),(0,w.jsx)(N.A,{open:G,setOpen:J})]})}}}]);
//# sourceMappingURL=1316.4e9f5299.chunk.js.map