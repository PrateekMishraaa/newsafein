"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[7176],{37176:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var n=l(89379),a=l(45543),s=l(20648),i=l(65043),o=l(73216),c=l(96621),d=l(70579);const r=function(){let e=(0,o.g)();console.log(e.id);let t=e.id,[l,r]=(0,i.useState)(""),[h,m]=(0,i.useState)();(0,i.useEffect)(()=>{console.log(l),(async()=>{console.log("Fetching Quites Data ");try{console.log("admin/news/edit/".concat(e.id));const s=await a.TR.get("admin/news/edit/".concat(e.id));var t,l,n;console.log(s,e),200==s.status&&(console.log("All news Data: ",s.data.result),r(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.result),m(null===s||void 0===s||null===(l=s.data)||void 0===l||null===(n=l.result)||void 0===n?void 0:n.content))}catch(s){console.log("All News Error: ",s)}})()},[]);const u=(0,s.Wx)({initialValues:{title:l.title?l.title:"",heading:l.heading?l.heading:"",content:l.content?l.content:"",img:"",bgimg:"",author:l.author?l.author:""},enableReinitialize:!0,onSubmit:async(e,l)=>{console.log("values: ",e,h);const s=(0,n.A)((0,n.A)({},e),{},{content:h,id:t});console.log(s);try{const e=await a.DX.put("admin/news",s);200!=e.status&&1!=(null===e||void 0===e?void 0:e.success)||window.history.back()}catch(i){console.log(i)}}});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h4",{children:"Edit News"}),(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:u.handleSubmit,children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,d.jsx)("input",{type:"text",className:"form-control",id:"title",value:u.values.title,name:"title","aria-describedby":"title",onChange:u.handleChange})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"heading",className:"form-label",children:"Description"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"heading",value:u.values.heading,id:"heading",onChange:u.handleChange})]}),(0,d.jsx)("label",{htmlFor:"img",className:"form-label",children:"Image"}),(0,d.jsxs)("div",{className:"mb-3 d-flex justify-content-around",children:[(0,d.jsx)("img",{className:"me-2",src:l.img,width:"200"}),(0,d.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",className:"form-control pt-3",name:"files[]",id:"img",onChange:e=>{e.target.files.length&&u.setFieldValue("img",e.target.files[0])}})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"author",className:"form-label",children:"Author"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"author",value:u.values.author,id:"author",onChange:u.handleChange})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"Content",className:"form-label",children:"Content"}),(0,d.jsx)(c.A,{setContent:m,content:h})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})}},96621:(e,t,l)=>{l.d(t,{A:()=>o});l(65043);var n=l(77977),a=l(58345),s=l.n(a),i=l(70579);const o=e=>{let{content:t,setContent:l}=e;return(0,i.jsx)("div",{children:(0,i.jsx)(n.CKEditor,{editor:s(),data:t||"",onChange:(e,t)=>{const n=t.getData();l(n)}})})}}}]);
//# sourceMappingURL=7176.644f3ae0.chunk.js.map