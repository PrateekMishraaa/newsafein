"use strict";(self.webpackChunksafeinschool_client=self.webpackChunksafeinschool_client||[]).push([[3618],{83618:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var n=l(45543),t=l(65043),d=l(35475),i=l(86178),o=l.n(i),c=l(30064),a=l.n(c),r=l(85595),h=l(79722),u=l(70579);const x=()=>{const{adminRoles:e}=(0,r.SF)();let[s,l]=(0,t.useState)(""),[i,c]=(0,t.useState)(0);(0,t.useEffect)(()=>{(async()=>{try{const s=await h.A.get("https://www.api.safeinschool.in/admin/blogs");var e;200==s.status&&l(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.result)}catch(s){console.log("All Quotes Error: ",s)}})()},[i]);return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,u.jsx)("h4",{children:"Manage Blogs"}),(0,u.jsx)("div",{hidden:!(1===e()),children:(0,u.jsx)(d.k2,{to:"/admin/blogs/add",className:"btn rounded-3",children:"Add Blogs"})})]}),(0,u.jsx)("div",{children:(0,u.jsx)("div",{class:"table-responsive border rounded-3",children:(0,u.jsxs)("table",{class:"table table-striped table-hover",children:[(0,u.jsx)("thead",{className:"table-dark",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"img"}),(0,u.jsx)("th",{scope:"col",children:"title"}),(0,u.jsx)("th",{scope:"col",children:"slug"}),(0,u.jsx)("th",{scope:"col",children:"created_at"}),(0,u.jsx)("th",{hidden:5===e(),scope:"col",children:"actions"})]})}),(0,u.jsx)("tbody",{children:s[0]&&(null===s||void 0===s?void 0:s.map((s,l)=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{scope:"col",children:(0,u.jsx)("img",{src:null===s||void 0===s?void 0:s.img,alt:"",width:80,height:80})}),(0,u.jsx)("td",{scope:"col",children:(0,u.jsx)("span",{className:"line-clamp-blog",children:null===s||void 0===s?void 0:s.title})}),(0,u.jsx)("td",{scope:"col",children:(0,u.jsx)("span",{className:"line-clamp-blog",children:null===s||void 0===s?void 0:s.slug})}),(0,u.jsx)("td",{scope:"col",children:o()(null===s||void 0===s?void 0:s.createdAt).calendar()}),(0,u.jsx)("td",{hidden:5===e(),children:(0,u.jsxs)("div",{className:"d-flex h-100",children:[(0,u.jsx)(d.k2,{to:"edit/".concat(s.id),children:(0,u.jsxs)("button",{className:"btn rounded-3 btn-sm btn-outline-dark d-flex me-2",sx:{backgroundColor:"orange"},children:[(0,u.jsx)("i",{className:"bi bi-trash"}),"\xa0Edit"]})}),(0,u.jsxs)("button",{hidden:3===e(),type:"button",className:"btn rounded-3 btn-sm btn-outline-danger rounded d-flex",onClick:()=>{(async e=>{console.log(e),a().fire({title:"Are you sure?",text:"You wanted to delete this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(console.log(s),s.isConfirmed){console.log(s);try{const s=await n.DX.delete("admin/blogs?id="+e);200==s.status&&(a().fire({title:s.data.message,icon:"success"}),c(i+1))}catch(r){var l,t,d,o;a().fire({width:400,title:null!==r&&void 0!==r&&null!==(l=r.response)&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.message?null===r||void 0===r||null===(d=r.response)||void 0===d||null===(o=d.data)||void 0===o?void 0:o.message:"Something Went Wrong Check  your Network Connection",icon:"error"})}}})})(null===s||void 0===s?void 0:s.id)},children:[(0,u.jsx)("i",{className:"bi bi-trash"}),"\xa0delete"]})]})})]})})))})]})})})]})}}}]);
//# sourceMappingURL=3618.286a7f31.chunk.js.map